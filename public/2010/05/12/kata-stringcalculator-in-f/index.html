
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Kata StringCalculator in F# - Dude, where's my Kaizen?</title>
  <meta name="author" content="Björn Rochel">

  
  <meta name="description" content="Yesterday&#8217;s F# bookclub meeting in Munich was awesome as usual. It’s very interesting to see our overall understanding of functional &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.bjoernrochel.de/2010/05/12/kata-stringcalculator-in-f/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Dude, where's my Kaizen?" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><div id="logo">
</div>
<hgroup>
  <h1><a href="/">Dude, where's my Kaizen?</a></h1>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.bjoernrochel.de" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Kata StringCalculator in F#</h1>
    
    
      <p class="meta">
        





  



<time datetime="2010-05-12T19:36:38+02:00" pubdate  data-updated="true" >May 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Yesterday&#8217;s F# bookclub meeting in Munich was awesome as usual. It’s very interesting to see our overall understanding of functional programming progressing.
Slowly, but steady. Main topics we discussed on the last meeting were Currying and Tail Recursion. Finally &#8220;got that&#8221; (at least I think so ;-))</p>

<p>Two meetings ago we decided to do some coding on every meeting. The previous meeting we solved Kata FizzBuzz and on yesterday’s meeting we tried to dance with
<a href="http://osherove.com/tdd-kata-1/">Roy Osheroves StringCalculator</a>. We didn&#8217;t make it completely to the end, but I think we solved most of the Kata.</p>

<!--more-->


<p>You can find yesterdays code at the end of this post. I&#8217;m sure in parts it smells a bit imperative and it definitely uses too much Regex - KungFu,
but overall I&#8217;m pleased with the result. We&#8217;ve tried to incorporate the feedback we got on the Kata FizzBuzz code. I would love to get feedback on this one as well.
What could be done better, cleaner or simply differently?</p>

<figure class='code'><figcaption><span>Kata StringCalculator in F#</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
<span class='line-number'>73</span>
<span class='line-number'>74</span>
<span class='line-number'>75</span>
<span class='line-number'>76</span>
<span class='line-number'>77</span>
<span class='line-number'>78</span>
<span class='line-number'>79</span>
<span class='line-number'>80</span>
<span class='line-number'>81</span>
<span class='line-number'>82</span>
<span class='line-number'>83</span>
<span class='line-number'>84</span>
<span class='line-number'>85</span>
<span class='line-number'>86</span>
<span class='line-number'>87</span>
<span class='line-number'>88</span>
<span class='line-number'>89</span>
<span class='line-number'>90</span>
<span class='line-number'>91</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">open</span> <span class="n">System</span>
</span><span class='line'><span class="n">open</span> <span class="n">System</span><span class="p">.</span><span class="n">Text</span><span class="p">.</span><span class="n">RegularExpressions</span>
</span><span class='line'><span class="n">open</span> <span class="n">Xunit</span>
</span><span class='line'>
</span><span class='line'><span class="n">let</span> <span class="n">shouldBeEqualTo</span> <span class="n">a</span> <span class="n">b</span> <span class="p">=</span> <span class="n">Assert</span><span class="p">.</span><span class="n">Equal</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">let</span> <span class="n">parse</span> <span class="k">value</span> <span class="p">=</span>
</span><span class='line'>    <span class="k">if</span> <span class="n">String</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="k">value</span><span class="p">)</span> <span class="n">then</span> <span class="m">0</span> <span class="k">else</span>
</span><span class='line'>    <span class="n">match</span> <span class="n">Int32</span><span class="p">.</span><span class="n">TryParse</span> <span class="k">value</span> <span class="n">with</span>
</span><span class='line'>    <span class="p">|</span> <span class="p">(</span><span class="k">false</span><span class="p">,</span><span class="n">_</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">failwithf</span> <span class="s">&quot;Did not parse value %s&quot;</span> <span class="k">value</span>
</span><span class='line'>    <span class="p">|</span> <span class="p">(</span><span class="k">true</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="n">when</span> <span class="n">n</span> <span class="p">&lt;</span> <span class="m">0</span> <span class="p">-&gt;</span> <span class="n">failwithf</span> <span class="s">&quot;Negatives not allowed %s&quot;</span> <span class="k">value</span>
</span><span class='line'>    <span class="p">|</span> <span class="p">(</span><span class="k">true</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="n">when</span> <span class="n">n</span> <span class="p">&gt;=</span> <span class="m">1000</span> <span class="p">-&gt;</span><span class="m">0</span>
</span><span class='line'>    <span class="p">|</span> <span class="p">(</span><span class="k">true</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">n</span>
</span><span class='line'>
</span><span class='line'><span class="n">let</span> <span class="nf">splitIntoDelimitersAndRest</span> <span class="p">(</span><span class="n">calculationString</span><span class="p">:</span><span class="n">String</span><span class="p">)</span> <span class="p">=</span>
</span><span class='line'>    <span class="n">let</span> <span class="n">defaultDelmiters</span> <span class="p">=</span> <span class="p">[</span><span class="s">&quot;,&quot;</span><span class="p">;</span><span class="s">&quot;\n&quot;</span><span class="p">]</span>
</span><span class='line'>    <span class="n">let</span> <span class="n">regex</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Regex</span><span class="p">(</span><span class="s">&quot;^//(?&lt;defaultDelimiter&gt;.*?)\\n(?&lt;rest&gt;.*)$&quot;</span><span class="p">,</span> <span class="n">RegexOptions</span><span class="p">.</span><span class="n">Singleline</span><span class="p">)</span>
</span><span class='line'>    <span class="n">match</span> <span class="n">regex</span><span class="p">.</span><span class="n">Match</span> <span class="n">calculationString</span> <span class="n">with</span>
</span><span class='line'>    <span class="p">|</span> <span class="n">m</span> <span class="n">when</span> <span class="n">m</span><span class="p">.</span><span class="n">Success</span> <span class="p">-&gt;</span>
</span><span class='line'>        <span class="n">let</span> <span class="n">delimiters</span> <span class="p">=</span> <span class="n">List</span><span class="p">.</span><span class="n">Cons</span><span class="p">(</span><span class="n">m</span><span class="p">.</span><span class="n">Groups</span><span class="p">.[</span><span class="s">&quot;defaultDelimiter&quot;</span><span class="p">].</span><span class="n">Value</span><span class="p">,</span> <span class="n">defaultDelmiters</span><span class="p">)</span>
</span><span class='line'>        <span class="p">(</span><span class="n">delimiters</span><span class="p">,</span> <span class="n">m</span><span class="p">.</span><span class="n">Groups</span><span class="p">.[</span><span class="s">&quot;rest&quot;</span><span class="p">].</span><span class="n">Value</span><span class="p">)</span>
</span><span class='line'>    <span class="p">|</span> <span class="n">_</span> <span class="p">-&gt;</span> <span class="p">(</span><span class="n">defaultDelmiters</span><span class="p">,</span> <span class="n">calculationString</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="n">let</span> <span class="nf">add</span> <span class="p">(</span><span class="n">calculationString</span><span class="p">:</span><span class="n">String</span><span class="p">)</span> <span class="p">=</span>
</span><span class='line'>   <span class="n">let</span> <span class="n">splitResult</span> <span class="p">=</span> <span class="n">splitIntoDelimitersAndRest</span> <span class="n">calculationString</span>
</span><span class='line'>   <span class="n">let</span> <span class="n">delimiters</span> <span class="p">=</span> <span class="n">fst</span> <span class="n">splitResult</span> <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">toArray</span>
</span><span class='line'>   <span class="n">let</span> <span class="n">rest</span> <span class="p">=</span> <span class="n">snd</span> <span class="n">splitResult</span>
</span><span class='line'>   <span class="n">rest</span><span class="p">.</span><span class="n">Split</span><span class="p">(</span><span class="n">delimiters</span><span class="p">,</span> <span class="n">StringSplitOptions</span><span class="p">.</span><span class="n">RemoveEmptyEntries</span><span class="p">)</span>
</span><span class='line'>   <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">ofSeq</span>
</span><span class='line'>   <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="n">parse</span>
</span><span class='line'>   <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">sum</span>
</span><span class='line'>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">an</span> <span class="n">empty</span> <span class="kt">string</span> <span class="k">is</span> <span class="n">supplied</span> <span class="n">it</span> <span class="n">should</span> <span class="k">return</span> <span class="m">0</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'>    <span class="n">String</span><span class="p">.</span><span class="n">Empty</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="p">(</span><span class="n">shouldBeEqualTo</span> <span class="m">0</span><span class="p">)</span>
</span><span class='line'><span class="na"> </span>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">a</span> <span class="n">single</span> <span class="n">digit</span> <span class="k">is</span> <span class="n">supplied</span> <span class="n">it</span> <span class="n">should</span> <span class="k">return</span> <span class="n">the</span> <span class="n">digits</span> <span class="k">value</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;1&quot;; &quot;2&quot;; &quot;3&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">1</span><span class="p">;</span><span class="m">2</span><span class="p">;</span><span class="m">3</span><span class="p">]</span>
</span><span class='line'><span class="na"> </span>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">two</span> <span class="n">digits</span> <span class="n">are</span> <span class="n">supplied</span> <span class="n">separated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">comma</span> <span class="n">it</span> <span class="n">should</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">some</span> <span class="n">them</span> <span class="n">up</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;1,2&quot;; &quot;3,4&quot;; &quot;4,5&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">3</span><span class="p">;</span><span class="m">7</span><span class="p">;</span><span class="m">9</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">more</span> <span class="n">than</span> <span class="n">two</span> <span class="n">digits</span> <span class="n">are</span> <span class="n">supplied</span> <span class="n">separated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">comma</span> <span class="n">it</span> <span class="n">should</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">sum</span> <span class="n">them</span> <span class="n">up</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;1,2,4,5&quot;; &quot;3,4,5&quot;; &quot;4,5,6,7,8&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">12</span><span class="p">;</span><span class="m">12</span><span class="p">;</span><span class="m">30</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">more</span> <span class="n">than</span> <span class="n">two</span> <span class="n">digits</span> <span class="n">are</span> <span class="n">supplied</span> <span class="n">separated</span> <span class="n">by</span> <span class="k">new</span> <span class="n">line</span> <span class="n">character</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">to</span> <span class="n">sum</span> <span class="n">them</span> <span class="n">up</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;1\n2\n4\n5&quot;; &quot;3\n4\n5&quot;; &quot;4\n5\n6\n7\n8&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">12</span><span class="p">;</span><span class="m">12</span><span class="p">;</span><span class="m">30</span><span class="p">]</span>
</span><span class='line'><span class="na"> </span>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">more</span> <span class="n">than</span> <span class="n">two</span> <span class="n">digits</span> <span class="n">are</span> <span class="n">supplied</span> <span class="n">separated</span> <span class="n">by</span> <span class="k">new</span> <span class="n">line</span> <span class="n">character</span> <span class="n">or</span> <span class="n">comma</span> <span class="n">it</span> <span class="n">should</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">some</span> <span class="n">them</span> <span class="n">up</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;1,2\n4,5&quot;; &quot;3,4\n5&quot;; &quot;4,5\n6\n7\n8&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">12</span><span class="p">;</span><span class="m">12</span><span class="p">;</span><span class="m">30</span><span class="p">]</span>
</span><span class='line'><span class="na"> </span>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">more</span> <span class="n">than</span> <span class="n">two</span> <span class="n">digits</span> <span class="n">are</span> <span class="n">supplied</span> <span class="n">separated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">user</span> <span class="n">supplied</span> <span class="k">default</span> <span class="n">delimiter</span> <span class="n">it</span> <span class="n">should</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">sum</span> <span class="n">them</span> <span class="n">up</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;//*\n1*2*4*5&quot;; &quot;//$\n3$4$5&quot;; &quot;//%\n4%5%6%7%8&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">12</span><span class="p">;</span><span class="m">12</span><span class="p">;</span><span class="m">30</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">more</span> <span class="n">than</span> <span class="n">two</span> <span class="n">digits</span> <span class="n">are</span> <span class="n">supplied</span> <span class="n">separated</span> <span class="n">by</span> <span class="n">a</span> <span class="n">user</span> <span class="n">supplied</span> <span class="k">default</span> <span class="n">delimiter</span> <span class="n">or</span> <span class="n">one</span> <span class="n">of</span> <span class="n">the</span> <span class="n">standard</span> <span class="n">delimiters</span> <span class="n">it</span> <span class="n">should</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">sum</span> <span class="n">them</span> <span class="n">up</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;//*\n1*2*4*5&quot;; &quot;//$\n3$4$5&quot;; &quot;//%\n4\n5%6%7%8&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">12</span><span class="p">;</span><span class="m">12</span><span class="p">;</span><span class="m">30</span><span class="p">]</span>
</span><span class='line'><span class="na"> </span>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="n">digits</span> <span class="n">greater</span> <span class="n">than</span> <span class="m">1000</span> <span class="n">are</span> <span class="n">supplied</span> <span class="n">it</span> <span class="n">should</span> <span class="n">ignore</span> <span class="n">them</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;//*\n1*2000*4*5&quot;; &quot;//$\n3$4$1000&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">10</span><span class="p">;</span><span class="m">7</span><span class="p">]</span>
</span><span class='line'>
</span><span class='line'><span class="na">[&lt;Fact&gt;]</span>
</span><span class='line'><span class="n">let</span> <span class="err">``</span><span class="n">When</span> <span class="k">using</span> <span class="nn">more</span> <span class="n">than</span> <span class="n">two</span> <span class="n">digits</span> <span class="n">with</span> <span class="n">with</span> <span class="n">a</span> <span class="n">custom</span> <span class="n">separator</span> <span class="n">of</span> <span class="n">multiple</span> <span class="n">characters</span> <span class="n">ít</span> <span class="n">should</span> <span class="n">be</span> <span class="n">able</span> <span class="n">to</span> <span class="n">sum</span> <span class="n">them</span> <span class="n">up</span><span class="err">``</span><span class="p">()</span> <span class="p">=</span>
</span><span class='line'><span class="na">    [&quot;//asdf\n1asdf4asdf5&quot;; &quot;//as\n3as4as&quot;]</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">map</span> <span class="k">add</span>
</span><span class='line'>    <span class="p">|&gt;</span> <span class="n">List</span><span class="p">.</span><span class="n">iter2</span> <span class="n">shouldBeEqualTo</span> <span class="p">[</span><span class="m">10</span><span class="p">;</span><span class="m">7</span><span class="p">]</span>
</span></code></pre></td></tr></table></div></figure>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">BjRo</span></span>

      





  



<time datetime="2010-05-12T19:36:38+02:00" pubdate  data-updated="true" >May 12<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/fsharp/'>FSharp</a>, <a class='category' href='/blog/categories/katas/'>Katas</a>, <a class='category' href='/blog/categories/dotnet/'>dotnet</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.bjoernrochel.de/2010/05/12/kata-stringcalculator-in-f/" data-via="bjoernrochel" data-counturl="http://www.bjoernrochel.de/2010/05/12/kata-stringcalculator-in-f/" >Tweet</a>
  
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
	<h1>About me</h1>
  <p><br/><img src="/images/bjro-eyes.jpg" alt="portrait" /></p>
	<p>
  My name is <strong>Björn Rochel</strong>.  I'm a 32 year old geek, who's crazy about software development, living in Cologne and
  currently working for <a href="http://www.intercomponentware.com">ICW</a> as a Developer / Architect.
	</p>
	<ul id="badges">
    <li><a id="xing" href="http://www.xing.com/profile/Bjoern_Rochel"><span>XING</span></a></li>
    <li><a id="github" href="http://www.github.com/BjRo"><span>Github</span></a></li>
    <li><a id="twitter" href="http://www.twitter.com/bjoernrochel"><span>Twitter</span></a></li>
    <li><a id="rss" href="/atom.xml"><span>Rss</span></a></li>
	</ul>
</section>

<section>
  <h1>Categories</h1>
  <ul id='categories'>
<li><a href='http://www.bjoernrochel.de/blog/categories/Conferences/'>Conferences (8)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/FSharp/'>FSharp (3)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Katas/'>Katas (2)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/StoryTeller/'>StoryTeller (14)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/StructureMap/'>StructureMap (9)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Testing/'>Testing (20)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Uncategorized/'>Uncategorized (8)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/dotnet/'>dotnet (65)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/ruby/'>ruby (3)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/sw-design/'>sw-design (13)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/xUnitBDDExtensions/'>xUnitBDDExtensions (15)</a></li>
</ul>

</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("bjoernrochel", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/bjoernrochel" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @bjoernrochel</a>
  
</section>

<section>
<h1>Disclaimer</h1>
<p>
The opinions expressed herein are my own personal opinions and do not necessarily represent the opinion of any other organization or person, including (but not limited to) my fellow employees, my employer, its clients or their agents. 
</p>
<p>
 Copyright &copy; 2011 - Björn Rochel
</p>
<section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Björn Rochel -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bjro';
      
        

				//var disqus_developer = 1;
				var disqus_identifier = 'http://www.bjoernrochel.de/2010/05/12/kata-stringcalculator-in-f/';
				var disqus_url = 'http://www.bjoernrochel.de/2010/05/12/kata-stringcalculator-in-f/';
        var disqus_script = 'embed.js';
      

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>







</body>
</html>
