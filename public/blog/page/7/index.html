
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Dude, where's my Kaizen?</title>
  <meta name="author" content="BjÃ¶rn Rochel">

  
  <meta name="description" content="Today I attended a tutorial about JRuby and JRuby on Rails. It was presented by Ola Bini from Thoughtworks, who did the more general parton (J)Ruby &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.bjoernrochel.de/blog/page/7/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Dude, where's my Kaizen?" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><div id="logo">
</div>
<hgroup>
  <h1><a href="/">Dude, where's my Kaizen?</a></h1>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.bjoernrochel.de" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/18/thoughts-on-j-ironruby/">Thoughts on (J / Iron)Ruby</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-11-18T06:36:27+01:00" pubdate  data-updated="true" >Nov 18<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Today I attended a tutorial about JRuby and JRuby on Rails. It was presented by Ola Bini from Thoughtworks, who did the more general part
on (J)Ruby and Nick Sieger from Sun, who did the Rails stuff. What can I say, it was really cool.</p>

<p>I&#8217;ve been curious about Ruby for quite a while now, mostly because of its influence on the .NET open source community (MSpec, MonoRail,
Asp.net MCV, etc.) , but also because my personal interest in internal domain specific languages. It&#8217;s a lot easier to build internal domain
specific languages with Ruby than it&#8217;s with a statically typed languages like C# or Java. Compare RSpec for instance with its C# counterpart
MSpec and you instantly realize the difference when it comes to terms of readability and less code to write in order to get things done.</p>

<p>What was interesting in this talk in particular is the fact that most of the things that apply to JRuby and Java also apply (or will apply) to
IronRuby and .NET:</p>

<ul>
<li><strong>The reuse of existing IT infrastructure</strong>. In the not so far future Rails will be able to be run on top of .NET and IIS. No
existing Ruby infrastructure will be needed in order to get it running. No new server / infrastructure know how will be needed for
running Rails in a .NET environment.</li>
<li><strong>The integration between a statically typed platform and Ruby in both directions</strong>. C# will be able to integrate dynamically typed
code (C# keyword dynamic) and pure Ruby applications can be run on top of .NET. Besides that IronRuby will also have a fantastic
integration of the .NET framework libraries and will be able to extend its view of the .NET world with Ruby concepts (I think it&#8217;s
called monkey patching). Opening up and extending .NET types from IronRuby and support for snake casing for members on .NET Framework
built-in types are some of the nice features.</li>
</ul>


<p>It&#8217;ll be interesting to see the impact of IronRuby on the .NET OS community. My guess is that the overall adoption rate of IronRuby in
that circle will be pretty high (assuming that Microsoft succeeds in delivering a first class implementation of Ruby). Ruby has the potential
to enable a more language oriented style of programming on the platform, which is exactly what a lot of .NET OS key players are striving for.</p>

<p>Writing more expressive, readable and maintainable code has always been important for me too and one of the consequences of today is that I&#8217;ll
definitely will invest more time into Ruby and IronRuby in the near future. I&#8217;m curious to hear opinions about IronRuby and its impact on
the .NET community &#8230;</p>

<p>Bye the way: Is Rails a software factory? A lot of the things I saw today reminded me of software factories &#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/17/sessions-i-plan-to-visit-at-qcon-sf-08/">Sessions I Plan to Visit at QCon SF 08</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-11-17T20:01:57+01:00" pubdate  data-updated="true" >Nov 17<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Monday (Tutorials): </h2>

<p>Stuart Charlton: <a href="http://qconsf.com/sf2008/presentation/Cloud+Computing+for+Developers+and+Architects"><em>&#8220;Cloud Computing for Developers and Architects&#8221;</em></a></p>

<p>Ola Bini &amp; Nick Sieger: <a href="http://qconsf.com/sf2008/presentation/Getting+started+with+JRuby+and+JRuby+on+Rails"><em>Getting started with JRuby and JRuby on Rails</em></a></p>

<h2>Tuesday (Tutorials):</h2>

<p>Neal Ford &amp; Martin Fowler &amp; Rebecca Parsons: <a href="http://qconsf.com/sf2008/presentation/Domain+Specific+Languages"><em>&#8220;Domain Specific Languages&#8221;</em></a></p>

<h2>Wednesday:</h2>

<p>Martin Fowler &amp; Rebecca Parsons: <a href="http://qconsf.com/sf2008/presentation/Agilists+and+Architects+--+Allies+not+Adversaries"><em>&#8220;Agilists and Architects &#8211; Allies not Adversarie&#8221;</em></a></p>

<p>Joseph Yoder: <a href="http://qconsf.com/sf2008/presentation/Introduction:+Effective+design+and+Clean+code"><em>&#8220;Introduction: Effective design and Clean code&#8221;</em></a></p>

<p>Dan North: <a href="http://qconsf.com/sf2008/presentation/Behaviour-Driven+Development+-+a+road+to+effective+design+and+clean+code"><em>&#8220;Behaviour-Driven Development - a road to effective design and clean code&#8221;</em></a></p>

<p>Marcel Molina jr. : <a href="http://qconsf.com/sf2008/presentation/Qualities+of+great+code"><em>&#8220;Qualities of great code&#8221;</em></a></p>

<p>Kent Beck: <a href="http://qconsf.com/sf2008/presentation/Responsive+Design"><em>&#8220;Responsive Design&#8221;</em></a></p>

<p>Gregor Hophe: &#8221;<a href="http://qconsf.com/sf2008/presentation/%22Hooking+Stuff+Together%22+-+Coupling,+Messaging,+and+Conversations"><em>&#8220;Hooking Stuff Together&#8221; - Coupling, Messaging, and Conversations&#8221;</em></a></p>

<p>Greg Young: <a href="http://qconsf.com/sf2008/presentation/Future+of+Domain+Driven+Design"><em>&#8220;Future of Domain Driven Design&#8221;</em></a></p>

<p>Kent Beck: <a href="http://qconsf.com/sf2008/presentation/Just+You+Wait"><em>&#8220;Just You Wait&#8221;</em></a></p>

<h2>Thursday: </h2>

<p>David Laribee: <a href="http://qconsf.com/sf2008/presentation/Introduction:+Alternatives+in+the+.NET+Space"><em>&#8220;Introduction: Alternatives in the .NET Space&#8221;</em></a></p>

<p>Jeff Brown: <a href="http://qconsf.com/sf2008/presentation/Gallio:+Crafting+a+Toolchain"><em>&#8220;Gallio: Crafting a Toolchain&#8221;</em></a></p>

<p>Jeremy Miller: <a href="http://qconsf.com/sf2008/presentation/The+Joys+and+Pains+of+Long-lived+Codebases"><em>&#8220;The Joys and Pains of Long-lived Codebases&#8221;</em></a></p>

<p>Don Syme: <a href="http://qconsf.com/sf2008/presentation/Introduction+to+F#"><em>&#8220;Introduction to F#&#8221;</em></a></p>

<p>Gregory Young:<a href="http://qconsf.com/sf2008/presentation/TDD+in+a+DbC+World"><em>&#8220;TDD in a DbC World&#8221;</em></a></p>

<p>Eric Meijer: <a href="http://qconsf.com/sf2008/presentation/Volta:+Distributed+.NET+anywhere"><em>&#8220;Volta: Distributed .NET anywhere&#8221;</em></a></p>

<p>Open Space Discussion</p>

<h2>Friday: </h2>

<p>Tim McCarthy: <a href="http://qconsf.com/sf2008/presentation/.NET+Domain-Driven+Design+with+C#:++How+to+keep+your+domain+model+clean+while+working+inside+of+frameworks"><em>&#8220;How to keep your domain model clean while working inside of frameworks&#8221;</em></a></p>

<p>Phil Wills: <a href="http://qconsf.com/sf2008/presentation/Rebuilding+guardian.co.uk+with+DDD"><em>&#8220;Rebuilding guardian.co.uk with DDD&#8221;</em></a></p>

<p>Gregory Young: <a href="http://qconsf.com/sf2008/presentation/Unshackle+Your+Domain"><em>&#8220;Unshackle Your Domain&#8221;</em></a></p>

<h2>Sessions I&#8217;m not able to attend due to my flight schedule:</h2>

<p>Eric Evans: <a href="http://qconsf.com/sf2008/presentation/Strategic+Design"><em>&#8220;Strategic Design&#8221;</em></a></p>

<p>David Laribee: <a href="http://qconsf.com/sf2008/presentation/Publishing+and+Protecting+the+Model"><em>&#8220;Publishing and Protecting the Model&#8221;</em></a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/15/on-the-way-to-qcon-san-francisco-08/">On the Way to QCon San Francisco 08</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-11-15T02:19:47+01:00" pubdate  data-updated="true" >Nov 15<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>After 1 1/2 hours of train ride , 11 hours of flight and 30 minutes with a taxi (in that order) I finally arrived in San Francisco. It&#8217;s my first
time in the USA and I&#8217;m also currently experiencing jet lag for the first time. 9 hour time difference is huge! It&#8217;s a weird feeling when
the clock says 14:30 and you&#8217;re body expects it to be 23:30.</p>

<p>Anyway, what a city !!! That&#8217;s the look from my hotel window &#8230;</p>

<p><a href="/images/posts/img-1649.jpg"><img src="/images/posts/img-1649-thumb.jpg" alt="San Fransisco" /></a></p>

<p>QCon tutorials start on Monday morning. That leaves two and a half days for exploring San Francisco.</p>

<p>Excellent &#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/10/glue-code-for-validation/">Glue Code for Validation</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-11-10T17:56:13+01:00" pubdate  data-updated="true" >Nov 10<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Wouldn&#8217;t it be nice to be able to just call</p>

<figure class='code'><figcaption><span>Validating a DTO</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">var</span> <span class="n">report</span> <span class="p">=</span> <span class="n">myDto</span><span class="p">.</span><span class="n">Validate</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>without sacrificing extensibillity, testabillity, etc? What about at this,</p>

<figure class='code'><figcaption><span>An extension method that calls into the IoC container</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">ObjectExtensions</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">static</span> <span class="n">ValidationReport</span> <span class="nf">Validate</span><span class="p">(</span><span class="k">this</span> <span class="n">Subject</span> <span class="n">subject</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">Container</span><span class="p">.</span><span class="n">GetInstance</span><span class="p">&lt;</span><span class="n">IValidator</span><span class="p">&lt;</span><span class="n">Subject</span><span class="p">&gt;&gt;().</span><span class="n">Validate</span><span class="p">(</span><span class="n">subject</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">static</span> <span class="n">ValidationReport</span> <span class="nf">Validate</span><span class="p">(</span><span class="k">this</span> <span class="n">Subject</span> <span class="n">subject</span><span class="p">,</span> <span class="kt">string</span> <span class="n">validatorName</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">Container</span><span class="p">.</span><span class="n">GetInstance</span><span class="p">&lt;</span><span class="n">IValidator</span><span class="p">&lt;</span><span class="n">Subject</span><span class="p">&gt;&gt;(</span><span class="n">validatorName</span><span class="p">).</span><span class="n">Validate</span><span class="p">(</span><span class="n">subject</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>where Container is just a simple static gateway for an IoC-container?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/11/08/some-thoughts-about-validation-logic/">Some Thoughts About Validation Logic</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-11-08T12:16:31+01:00" pubdate  data-updated="true" >Nov 8<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The design of validation in software is one of those strange topics you
can discuss endlessly about. Some of the major questions concerning
validation:</p>

<ol>
<li>In which Layer should validation logic reside? Is it part of the Domain Layer, part of the Presentation Layer, or is it somehow part
of both?</li>
<li>Who is responsible for validation? Should the subject of the validation have the responsibility to validate itself or is that
responsibility worth to be separated from the subject?)</li>
<li>How should validation results be transferred to the caller? By throwing an exception, or by returning a sequence of validation
results?</li>
<li>How should a validation results be represented? As plain strings, or with the notification pattern?</li>
</ol>


<p>I would like to discuss my point of view regarding those questions. I don&#8217;t claim my conclusions to be best-practices or something like that.
They are just my latest thoughts on that topic. Going from top to bottom, here is what I would currently respond to those questions:</p>

<h2>In which layer should validation logic reside?</h2>

<p>I think it&#8217;s easier to answer this question with saying where it primarily should not be: In the Presentation Layer. Validation contains business know how. Therefore it should reside in some lower or inner layer in my opinion. Which layer
actually should contain the validation logic depends on the actual design of your application. When following a data centric approach, I
think it&#8217;s best to put the validation logic in the business layer which consumes your Data Transfer Objects. As I said: I strongly believe that
validation logic is business know how. When using a more Domain Driven Design approach things get a little more difficult. A good place for
validation logic definitely is the domain layer. However one hot topic on the Alt.NET mailing list in the past months was whether domain
objects should be able to have an invalid state or not. This decision has naturally very strong implications on validation. Why should you
have validation in the domain layer when every domain object is by its nature in a valid state after its construction and can never be invalid?
So if it&#8217;s not in the domain where is it then? I would propose to put it on the surrounding / higher layer, the Service Layer. The Service Layer
very often uses Data Transfer Objects in order to communicate with higher level callers. This is mostly done to protect your domain design
from invasive infrastructure related stuff, for instance things you need to implement in order to support databinding or correct serialization.
The service layer as I see it is in that case responsible for converting DTOs to domain objects and calling some lower level functionality with
them. This is a good place for integrating validation based on the incoming DTOs and currently my favourite place for validation. Here is a
simple sequence diagram to give you an idea about the interactions that would happen inside such a layer.</p>

<p><a href="/images/posts/servicelayer.png"><img src="/images/posts/servicelayer-300x67.png" alt="image" /></a></p>

<h2>Who is responsible for the validation?</h2>

<p>You might (or might not) have recognized it in the sequence diagram above: I&#8217;m not a fan of having validation logic inside the actual validation subject. For simple static
validations (like not null, string length, format) it would be sufficient to bake validation logic into the subject. When it comes to
more real world scenarios I believe it&#8217;s a good idea to separate the validation from the subject. Why? For instance because of dependency
management and Open Closed Principle. A simple example: You have a business object which contains a German zip code. The range of possible
values for this is pretty high. This is something that probably would be validated against some sort of catalogue. Should the business object
know or event care about the catalogue? I believe it should not. Besides that having external validation enables you to have context related
validation on a subject (Maybe some Service Layer operations need more mandatory information than others &#8230; ) The business entity doesn&#8217;t
need to be altered to support this. Jeremy Miller once said that every Client-App should have an <code>IPresenter</code> interface. In the same way I would
argue that every application dealing with the need to validate inputs should contain an <code>IValidator</code> interface.</p>

<h2>How to transfer validation errors to the caller?</h2>

<p>How do most of the .NET framework classes handle validation? They throw strong typed exceptions on invalid input.  Expressing validation errors through exceptions therefore seems
consistent for me with the rest of the framework. This also implicates that a method signature of a higher level caller (f.e. a Service Layer method) is not polluted with validation specific stuff (because the
exception can bubble up), which I would also consider a good thing. An <code>IValidator</code> interface resulting from this conclusion might look like
this:</p>

<figure class='code'><figcaption><span>A basic validator interface</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">interface</span> <span class="n">IValidator</span><span class="p">&lt;</span><span class="n">Subject</span><span class="p">&gt;</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">void</span> <span class="nf">Validate</span><span class="p">(</span><span class="n">Subject</span> <span class="n">subject</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>However, you might want to return validation results (like warnings for instance) but leave the decision whether to continue execution to the caller. In that case</p>

<figure class='code'><figcaption><span>A validator with notifications</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">interface</span> <span class="n">IValidator</span><span class="p">&lt;</span><span class="n">Subject</span><span class="p">&gt;</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">IEnumerable</span><span class="p">&lt;</span><span class="n">Notification</span><span class="p">&gt;</span> <span class="n">Validate</span><span class="p">(</span><span class="n">Subject</span> <span class="n">subject</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>might also be a valid alternative.</p>

<h2>How should validation results be represented?</h2>

<p>I would prefer using the Notification Pattern for transferring validation results rather than using plain strings for that Why?</p>

<ol>
<li>A validation result can be much more than a simple message. It could contain other helpful information like a globally unique error code
for instance in addition to just the plain message.</li>
<li>In some cases you might want to differentiate between different classes of validation information, for instance between warnings and errors.</li>
<li>It introduces the different types of validation information as a real concept to your application. It&#8217;s more explicit.</li>
<li>It frees the validation logic from having to deal with the validation messages itself. The messages can be changed without
affecting the actual validation logic.</li>
</ol>


<p>The notification pattern is pretty trivial. It consists of a base class
for notifications</p>

<figure class='code'><figcaption><span>A possible implementation for the Notification pattern</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Notification</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="kt">string</span> <span class="n">Message</span> <span class="p">{</span><span class="k">get</span><span class="p">;</span> <span class="k">protected</span> <span class="k">set</span><span class="p">;}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>and one or more derivates of it, representing generic errors or warnings.</p>

<figure class='code'><figcaption><span>An error notification</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">Error</span> <span class="p">:</span> <span class="n">Notification</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="nf">Error</span> <span class="p">(</span><span class="kt">string</span> <span class="n">message</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">Message</span> <span class="p">=</span> <span class="n">message</span><span class="p">;</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you combine that with some kind of pseudo enumerations like this</p>

<figure class='code'><figcaption><span>a pseudo enumeration containing all error notifications</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">CustomerErrors</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Error</span> <span class="n">FirstNameIsMissing</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Error</span><span class="p">(</span><span class="s">&quot;The first name is missing&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Error</span> <span class="n">FirstNameIsMissing</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Error</span><span class="p">(</span><span class="s">&quot;The first name is missing&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">Error</span> <span class="n">LastNameIsMissing</span> <span class="p">=</span> <span class="k">new</span> <span class="n">Error</span><span class="p">(</span><span class="s">&quot;The last name is missing&quot;</span><span class="p">);</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">static</span> <span class="n">Error</span> <span class="nf">InvalidEmail</span><span class="p">(</span><span class="kt">string</span> <span class="n">emailAddress</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">new</span> <span class="nf">Error</span><span class="p">(</span> <span class="kt">string</span><span class="p">.</span><span class="n">Format</span><span class="p">(</span><span class="s">&quot;The email &#39;{0}&#39; is invalid&quot;</span><span class="p">,</span> <span class="n">emailAddress</span><span class="p">));</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>you&#8217;re able to get pretty expressive with validation logic.</p>

<h2>Whats missing? Yeah right, the actual validation &#8230;</h2>

<p>I&#8217;ve written a little fluent API which helps me in writing concrete validators in a very declarative way. The whole thing
is probably worth a post on its own so I won&#8217;t go into detail so much here and save a general discussion of the implementation for the next
post. So just a sneak preview here :-).</p>

<figure class='code'><figcaption><span>A custom validator </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">CustomerDtoValidator</span> <span class="p">:</span> <span class="n">Validator</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="nf">CustomerDtoValidator</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">If</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">FirstName</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">()).</span><span class="n">AddNotification</span><span class="p">(</span><span class="n">CustomerErrors</span><span class="p">.</span><span class="n">FirstNameIsMissing</span><span class="p">)</span>
</span><span class='line'>      <span class="n">If</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">LastName</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">()).</span><span class="n">AddNotification</span><span class="p">(</span><span class="n">CustomerErrors</span><span class="p">.</span><span class="n">LastNameIsMissing</span><span class="p">)</span>
</span><span class='line'>      <span class="n">If</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">EmailAddress</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">()).</span><span class="n">AddNotification</span><span class="p">(</span><span class="n">CustomerErrors</span><span class="p">.</span><span class="n">EmailAddressIsMissing</span><span class="p">)</span>
</span><span class='line'>      <span class="n">If</span><span class="p">(</span><span class="k">new</span> <span class="n">EmailAddressSpecification</span><span class="p">()).</span><span class="n">AddNotification</span><span class="p">(</span><span class="n">CustomerErrors</span><span class="p">.</span><span class="n">EmailAddressIsInvalid</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Neat isn&#8217;t it? What you see here is actually very simple.  The If-AddNotification statement consists of the specification pattern (as a real specification instance or in a more functional inlined lamda
version) and a second part that returns a notification. This second part is only executed when the specification part is satisfied. All together they form a chain of actions which are executed on a supplied subject.</p>

<h2>Stuff not mentioned in this post</h2>

<p>There are still a lot of things I did not cover in this post. A very obvious one is the topic of how to map the notifications received from such a validation to controls in the presentation layer. Besides that a bit of AOP or MDSD Code Generation
would also help to streamline the integration of this concepts. I&#8217;ll try to come back to the topic of validation soon. I would be happy to hear
some sort of feedback on this. So, feel free to comment, bash, whatsoever &#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/28/sharing-book-experiences/">Sharing Book Experiences</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-10-28T17:54:12+01:00" pubdate  data-updated="true" >Oct 28<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2>Update 21.10.2011</h2>

<p>I&#8217;ve moved my shelf to <a href="http://www.goodreads.com">Goodreads</a>. You can find my new shelf <a href="http://www.goodreads.com/bjoernrochel">here</a>.</p>

<p>I&#8217;ve read about this at Michel Grootjans Blog. Actually a very nice idea. You can find my bookshelf under:
<a href="http://www.shelfari.com/o1518053563">http://www.shelfari.com/o1518053563</a></p>

<p>Keep reading, guys :-)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/20/coming-back-from-the-first-altnet-conference-in-germany-aka-net-open-spaces-leipzig/">Coming Back From the First Alt.NET Conference in Germany (Aka .NET Open Spaces Leipzig)</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-10-20T19:18:56+02:00" pubdate  data-updated="true" >Oct 20<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Over the last weekend I participated in the first German Open Space conference. The <a href="http://www.netopenspace.de/"><strong>.NET Open Space</strong></a> was
inspired by the recent ALT.NET conferences in London and Seattle. The basic idea behind Open Space is that the attendees decide the actual
topics of the sessions. No separation between speakers, attendees and the organizing team exits and every participant is responsible for
making the best of the conference. I was a bit skeptical at first whether the whole concept of Open Spaces could be easily done in
Germany. It had been done with a lot of success several times all around the globe before, but I somehow had the feeling that the whole concept
of self-organization doesn&#8217;t really play out well in Germany with its mostly full-organized conference formats. Looking back now, I&#8217;ve to
admit that I was <strong>totally wrong about this</strong>. I guess that relates to the fact that I never participated in such a format in the past. Imho
the <a href="http://www.netopenspace.de/"><strong>.NET Open Space</strong></a> conference in Leipzig was a huge success on all fronts. The last two days where filled
with lots of amazing conversations with passionate people from Germany, Austria and Switzerland about software design, software architecture,
all the xDD stuff (MDSD, BDD, TDD, DDD, FDD), agile software development, tooling, etc. To give you an idea about the content, here
are some of the sessions I was involved in during the conference.</p>

<ul>
<li><strong>TDD and BDD</strong> A fishbowl discussion about unit testing, TDD, BDD
and the problem of how to introduce / integrate such concepts into a
development team.</li>
<li><strong>xDD: Demystifying the buzzwords</strong> A fishbowl discussion about xDD
buzzwords which started with an introduction of each xDD concept and
ended with a discussion about software quality. A bit unfocussed, so
to say :-(</li>
<li><strong>NHibernate</strong> A discussion about when and how to use NHibernate in
.NET projects.</li>
<li><strong>Doing BDD with pair programming</strong> Together with <a href="http://blogs.hibernatingrhinos.com/nhibernate/Default.aspx">Gabriel Schenker</a>
I did some live coding in order to demonstrate BDD and pair programming. Gabriel coded the specifications while I implemented
them. I did this with JP Boodhoo several weeks ago at the .NET user group in Bonn. Luckily this time I wasn&#8217;t so nervous. Seems that I&#8217;m getting accustomed to live coding in front of a large audience. :-)</li>
<li><strong>A detailed look at Model View Presenter</strong> I gave a little talk about my experience with MVP which started with a short introduction
of the Passive View and the Supervising Controller pattern, then introduced the variation of MVP which I currently favor (a variation
of Passive View) and ended in a really nice discussion how others approach MVP.</li>
<li><strong>.NET Enterprise Architectures</strong>An interesting session where
several participants presented their current application architecture of choice for developing large scale enterprise
applications. &#8220;What can we learn from Enterprise Java Architectures?&#8221; was also a very hot topic that day.</li>
<li><strong>The use of messaging in distributed and non-distributed
applications</strong> I gave a little introduction to the concepts implemented in the Aurora Application Framework. This is a framework
for developing message based composite applications with .NET which is currently under development at ICW, my current employer.</li>
<li><strong>Several other smaller topics like</strong>

<ul>
<li>An introduction to xUnit.BDDExtensions</li>
<li>A discussion about IoC-Containers</li>
<li>How to introduce code reviews, guidelines etc. into the
development process of a company.</li>
</ul>
</li>
</ul>


<p>Some final words: A big thank you to the people responsible for the whole organization, namely <a href="http://www.therightstuff.de/2008/10/16/NET-Open-Space-2008.aspx">Alexander GroÃ</a>, <a href="http://blogs.compactframework.de/Torsten.Weber/">Torsten Weber</a> and <a href="http://lieser-online.de/">Stefan Lieser</a>. You guys did an awesome job
making this event happen. Also a big thank you to all the other guys for having such wonderful conversations and being so passionate about
software development&#8230;.</p>

<p>The only sad thing is that I&#8217;ll have to wait for a year now until the next .NET Open Spaces conference (in Germany) .  . .</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/10/04/introducing-xunitbddextensions/">Introducing xUnit.BDDExtensions</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-10-04T13:28:31+02:00" pubdate  data-updated="true" >Oct 4<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><code>xUnit.BDDExtensions</code> is a little framework build on top of xUnit which enables a BDD style of testing with xUnit. Besides an emphasis on a
&#8220;test case class per fixture&#8221; organization scheme for tests, AAA (Arrange, Act and Assert) style of writing tests and left to right
assertions, this framework also provides Rhino.Mocks integration out of the box. By hiding the mechanics of Rhino.Mocks (record and replay
model, mocks vs. stubs) behind the scenes, xUnit.BDDExtensions also helps on writing cleaner, easier to understand and less brittle tests
xUnit.BDDExtensions is based on JP Boodhoos BDD extensions for MBUnit used in his &#8220;Nothing but .NET&#8221; bootcamps.</p>

<h2>Enough of the talking, let&#8217;s look at some code</h2>

<p>This is actual code of the xUnit.BDDExtensions trunk. The <code>SpecificationTestCommand</code> class serves as a kind of adapter inside
xUnit. It enables the test class to have methods that are run before and after the actual test method is executed.</p>

<figure class='code'><figcaption><span>The guts of xUnit.BDDExtensions </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">SpecificationTestCommand</span> <span class="p">:</span> <span class="n">BeforeAfterCommand</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="nf">SpecificationTestCommand</span><span class="p">(</span><span class="n">ITestCommand</span> <span class="n">innerCommand</span><span class="p">,</span> <span class="n">MethodInfo</span> <span class="n">testMethod</span><span class="p">)</span> <span class="p">:</span> <span class="k">base</span><span class="p">(</span><span class="n">innerCommand</span><span class="p">,</span> <span class="n">testMethod</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">public</span> <span class="k">override</span> <span class="n">MethodResult</span> <span class="nf">Execute</span><span class="p">(</span><span class="kt">object</span> <span class="n">testClass</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">var</span> <span class="n">specification</span> <span class="p">=</span> <span class="n">testClass</span> <span class="k">as</span> <span class="n">ITestSpecification</span><span class="p">;</span>
</span><span class='line'>      
</span><span class='line'>      <span class="k">try</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="n">specification</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="k">throw</span> <span class="k">new</span> <span class="nf">InvalidOperationException</span><span class="p">(</span> <span class="s">&quot;Instance does not implement ITestSpecification&quot;</span><span class="p">);</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>          
</span><span class='line'>          <span class="n">specification</span><span class="p">.</span><span class="n">InitializeSpecification</span><span class="p">();</span>
</span><span class='line'>          <span class="k">return</span> <span class="k">base</span><span class="p">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">testClass</span><span class="p">);</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">finally</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="k">if</span> <span class="p">(</span><span class="n">specification</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="n">specification</span><span class="p">.</span><span class="n">CleanupSpecification</span><span class="p">();</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Notice several things:</p>

<ol>
<li>It expects the instance to implement <code>ITestSpecification</code>.</li>
<li>It calls the <code>InitializeSpecification()</code> method on it</li>
<li>Passes the execution to the inner command (in <code>base.Execute(obj)</code>)</li>
<li>and finally cleans up the specification by calling
<code>CleanupSpecification()</code> on it.</li>
</ol>


<p>So how can a completely isolated happy path test for this look like?</p>

<figure class='code'><figcaption><span>A happy path specification</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Concern(typeof(SpecificationTestCommand))]</span>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">when_a_specification_test_command_is_executed_on_a_ITestSpecification_implementer</span> <span class="p">:</span> <span class="n">concern_for_specification_test_command</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">private</span> <span class="n">MethodResult</span> <span class="n">expectedTestResult</span><span class="p">;</span>
</span><span class='line'>  <span class="k">private</span> <span class="n">ITestCommand</span> <span class="n">innerCommand</span><span class="p">;</span>
</span><span class='line'>  <span class="k">private</span> <span class="n">MethodInfo</span> <span class="n">methodInfo</span><span class="p">;</span>
</span><span class='line'>  <span class="k">private</span> <span class="n">MethodResult</span> <span class="n">testResult</span><span class="p">;</span>
</span><span class='line'>  <span class="k">private</span> <span class="n">ITestSpecification</span> <span class="n">testSpecification</span><span class="p">;</span>
</span><span class='line'>  <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">EstablishContext</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">innerCommand</span> <span class="p">=</span> <span class="n">Dependency</span><span class="p">&lt;</span><span class="n">ITestCommand</span><span class="p">&gt;();</span>
</span><span class='line'>      <span class="n">testSpecification</span> <span class="p">=</span> <span class="n">Dependency</span><span class="p">&lt;</span><span class="n">ITestSpecification</span><span class="p">&gt;();</span>
</span><span class='line'>      <span class="n">methodInfo</span> <span class="p">=</span> <span class="n">GetTestMethodHandle</span><span class="p">();</span>
</span><span class='line'>      <span class="n">expectedTestResult</span> <span class="p">=</span> <span class="n">CreateMethodResult</span><span class="p">(</span><span class="n">methodInfo</span><span class="p">);</span>
</span><span class='line'>      <span class="n">innerCommand</span><span class="p">.</span><span class="n">WhenToldTo</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">testSpecification</span><span class="p">)).</span><span class="n">Return</span><span class="p">(</span><span class="n">expectedTestResult</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">protected</span> <span class="k">override</span> <span class="n">SpecificationTestCommand</span> <span class="nf">CreateSut</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">new</span> <span class="nf">SpecificationTestCommand</span><span class="p">(</span><span class="n">innerCommand</span><span class="p">,</span> <span class="n">methodInfo</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">protected</span> <span class="k">override</span> <span class="k">void</span> <span class="nf">Because</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">testResult</span> <span class="p">=</span> <span class="n">Sut</span><span class="p">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">testSpecification</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="na"> </span>
</span><span class='line'><span class="na"> [Observation]</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">should_ask_the_test_specification_to_initialize</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">testSpecification</span><span class="p">.</span><span class="n">WasToldTo</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">InitializeSpecification</span><span class="p">());</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="na"> [Observation]</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">should_pass_the_test_specification_to_the_inner_test_command</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">innerCommand</span><span class="p">.</span><span class="n">WasToldTo</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">Execute</span><span class="p">(</span><span class="n">testSpecification</span><span class="p">));</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="na"> [Observation]</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">should_return_the_test_result_from_the_inner_test_command</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">testResult</span><span class="p">.</span><span class="n">ShouldBeEqualTo</span><span class="p">(</span><span class="n">expectedTestResult</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="na"> </span>
</span><span class='line'><span class="na"> [Observation]</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">should_ask_the_test_specification_to_cleanup</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">testSpecification</span><span class="p">.</span><span class="n">WasToldTo</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span> <span class="n">x</span><span class="p">.</span><span class="n">CleanupSpecification</span><span class="p">());</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Notice several things:</p>

<ol>
<li>In the <code>EstablishContext()</code> method the whole context for the test is
created. This includes creating most of the dependencies with
Rhino.Mocks through <code>Dependeny()</code> and the necessary configuration of
their behavior. This is done in order to quickly get from an
interaction based style of testing to a state based style of
testing. In AAA terms this method implements the Arrange part.</li>
<li>The <code>CreateSut()</code> method is executed after <code>EstablishContext()</code> and
creates the actual system under test.</li>
<li>The <code>Because()</code> method implements the actual behavior under test. In
AAA terms this is the Act part. In the current example this meant
executing the test command with an instance implementing the
expected interface.</li>
<li>Each method marked with the <code>ObservationAttribute</code> contains a single
observation which should be fulfilled when the test has been
executed. In AAA terms every Observation is an Assert.</li>
</ol>


<p>That&#8217;s basically it. Pretty straight forward imho. If I managed to make
you at least a bit curious about this style of testing, you can grab the
source with any git client from: <a href="http://github.com/bjro/xunitbddextensions">http://github.com/bjro/xunitbddextensions</a></p>

<p>Enjoy coding</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/09/27/80-hours-later/">80 Hours Later &#8230;</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-09-27T01:11:29+02:00" pubdate  data-updated="true" >Sep 27<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="/images/posts/done.jpg"><img src="/images/posts/done-thumb.jpg" alt="done" /></a></p>

<figure class='code'><figcaption><span>Thank you JP!</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="na">[Concern(typeof(NothingButDotNetBootCamp))]</span>
</span><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">when_the_boot_camp_is_over</span> <span class="p">:</span> <span class="n">InstanceContextSpecification</span><span class="p">&lt;</span><span class="n">NothingButDotNetBootCamp</span><span class="p">&gt;</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">INothingButDotNetParticipant</span> <span class="n">bjoern</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">establish_context</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">bjoern</span> <span class="p">=</span> <span class="n">dependency</span><span class="p">&lt;</span><span class="n">INothingButDotNetParticipant</span><span class="p">&gt;();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>  <span class="k">public</span> <span class="n">NothingButDotNetBootCamp</span> <span class="nf">create_sut</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="k">new</span> <span class="nf">NothingButDotNetBootCamp</span><span class="p">(</span><span class="n">bjoern</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="na"> [Observation]</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">should_be_proud_to_have_survived_80_hours_of_coding</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">bjoern</span><span class="p">.</span><span class="n">should_be_proud_to_have_survived_80_hours_of_coding</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="na"> [Observation]</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">should_be_proud_of_having_reached_330_revisions</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">bjoern</span><span class="p">.</span><span class="n">should_be_proud_of_having_reached_330_revisions</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="na"> [Observation]</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">should_be_thankful_to_have_met_a_guy_like_JP</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">bjoern</span><span class="p">.</span><span class="n">should_be_thankful_to_have_met_a_guy_like_JP</span><span class="p">();</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<hr />

<p>All tests finished: 3 Successful, 0 Failed; 0 Ignored in 80 hours</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2008/09/25/ideas-for-future-posts/">Ideas for Future Posts</a></h1>
    
    
      <p class="meta">
        





  



<time datetime="2008-09-25T10:16:46+02:00" pubdate  data-updated="true" >Sep 25<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><ol>
<li>Analysis of the &#8220;Nothing but .NET&#8221; application we build with JP
using <strong>NDepend</strong></li>
<li>Drill down on FrontController architecture</li>
<li>Doing BDD with mock frameworks</li>
<li><strong>Rhino Mocks</strong> integration in the BDD extensions for xUnit</li>
<li>The Specification pattern in depth</li>
<li>Is the FrontController architecture also feasible in Smart Clients?</li>
<li>Build your own Container</li>
<li>Leveraging functional elements of C# 3.0 like (Currying, Function
memoization, etc &#8230;)</li>
<li>Introduction to <strong>TypeMock Racer</strong></li>
<li>Reflective application extensibility using <strong>MEF</strong></li>
</ol>

</div>
  
  


    </article>
  
  <nav class="pagination">
    <div>
      
        <a class="prev" href="/blog/page/8/">&larr; Older</a>
      
      <a href="/blog/archives">Blog Archives</a>
      
      <a class="next" href="/blog/page/6/">Newer &rarr;</a>
      
    </div>
  </nav>
</div>
<aside class="sidebar">
  
    <section>
	<h1>About me</h1>
  <p><br/><img src="/images/bjro-eyes.jpg" alt="portrait" /></p>
	<p>
  My name is <strong>BjÃ¶rn Rochel</strong>.  I&#8217;m a 32 year old geek, who&#8217;s crazy about software development, living in Cologne and
  currently working for <a href="http://www.intercomponentware.com">ICW</a> as a Developer / Architect.
	</p>
	<ul id="badges">
    <li><a id="xing" href="http://www.xing.com/profile/Bjoern_Rochel"><span>XING</span></a></li>
    <li><a id="github" href="http://www.github.com/BjRo"><span>Github</span></a></li>
    <li><a id="twitter" href="http://www.twitter.com/bjoernrochel"><span>Twitter</span></a></li>
    <li><a id="rss" href="/atom.xml"><span>Rss</span></a></li>
	</ul>
</section>

<section>
  <h1>Categories</h1>
  <ul id='categories'>
<li><a href='blog/categories/Conferences/'>Conferences (8)</a></li>
<li><a href='blog/categories/FSharp/'>FSharp (3)</a></li>
<li><a href='blog/categories/Katas/'>Katas (2)</a></li>
<li><a href='blog/categories/StoryTeller/'>StoryTeller (14)</a></li>
<li><a href='blog/categories/StructureMap/'>StructureMap (9)</a></li>
<li><a href='blog/categories/Testing/'>Testing (20)</a></li>
<li><a href='blog/categories/Uncategorized/'>Uncategorized (8)</a></li>
<li><a href='blog/categories/dotnet/'>dotnet (65)</a></li>
<li><a href='blog/categories/ruby/'>ruby (3)</a></li>
<li><a href='blog/categories/sw-design/'>sw-design (13)</a></li>
<li><a href='blog/categories/xUnitBDDExtensions/'>xUnitBDDExtensions (15)</a></li>
</ul>

</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("bjoernrochel", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/bjoernrochel" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @bjoernrochel</a>
  
</section>

<section>
<h1>Disclaimer</h1>
<p>
The opinions expressed herein are my own personal opinions and do not necessarily represent the opinion of any other organization or person, including (but not limited to) my fellow employees, my employer, its clients or their agents. 
</p>
<p>
 Copyright &copy; 2011 - BjÃ¶rn Rochel
</p>
<section>

  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - BjÃ¶rn Rochel -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bjro';
      
        
        var disqus_script = 'count.js';
      

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>







</body>
</html>
