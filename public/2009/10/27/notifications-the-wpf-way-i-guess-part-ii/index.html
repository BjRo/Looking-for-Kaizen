
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Notifications the WPF way (I guess), Part II - Dude, where's my Kaizen?</title>
  <meta name="author" content="Björn Rochel">

  
  <meta name="description" content="Back again to my take on the Notification pattern with WPF. Last time Italked briefly about my motivation for this little series. This time wedive &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.bjoernrochel.de/2009/10/27/notifications-the-wpf-way-i-guess-part-ii/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Dude, where's my Kaizen?" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><div id="logo">
</div>
<hgroup>
  <h1><a href="/">Dude, where's my Kaizen?</a></h1>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.bjoernrochel.de" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Notifications the WPF Way (I Guess), Part II</h1>
    
    
      <p class="meta">
        





  



<time datetime="2009-10-27T21:29:16+01:00" pubdate  data-updated="true" >Oct 27<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Back again to my take on the Notification pattern with WPF. Last time I
talked briefly about my motivation for this little series. This time we
dive more into the nuts and bolts of my example implementation.</p>

<h2>How the ViewModel notifies the UI</h2>

<p>I defined an interface called <code>INotificationSource</code> for this. This
interface defines only I member which exposes a <code>NotificationCollection</code>.
<code>NotificationCollection</code> is just a standard <code>ObservableCollection&lt;Notification&gt;</code> with some additional bits in it
(such as retrieving a collection of <code>Notifications</code> for a given source).
By deriving from <code>ObservableCollection</code> you get the <code>CollectionChangedEvent</code>
on the collection for free.</p>

<figure class='code'><figcaption><span>The interface that needs to be implemented by a ViewModel</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">interface</span> <span class="n">INotificationSource</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">NotificationCollection</span> <span class="n">Notifications</span> <span class="p">{</span><span class="k">get</span><span class="p">;}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>In my current app I&#8217;ve got a <code>Layer Supertype</code> for
ViewModels which implements this interface.</p>

<h2>Glue code for transferring Notifications from the ViewModel into the logical tree</h2>

<p>As I mentioned in the last post I&#8217;m using the <code>Attached Behavior Pattern</code>
for transferring Notifications from the ViewModel to the related
elements in the logical tree (When I say related I&#8217;m referring to the
<code>FrameworkElements</code> bound to my ViewModel via DataBinding). The class
responsible for the transfer is a <code>DependencyObject</code> derived class, called
<code>ValidationBehavior</code>. This class defines two attached
<code>DependencyProperties</code>, <code>IsEnabled</code> and <code>Notifications</code>.</p>

<figure class='code'><figcaption><span>Our attached validation behavior</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'> <span class="k">public</span> <span class="k">class</span> <span class="nc">ValidationBehavior</span> <span class="p">:</span> <span class="n">DependencyObject</span>
</span><span class='line'> <span class="p">{</span>
</span><span class='line'>     <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">DependencyProperty</span> <span class="n">IsEnabledProperty</span><span class="p">;</span>
</span><span class='line'>     <span class="k">public</span> <span class="k">static</span> <span class="k">readonly</span> <span class="n">DependencyProperty</span> <span class="n">NotificationsProperty</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>     <span class="k">static</span> <span class="nf">ValidationBehavior</span><span class="p">()</span>
</span><span class='line'>     <span class="p">{</span>
</span><span class='line'>         <span class="n">IsEnabledProperty</span> <span class="p">=</span>  <span class="n">DependencyProperty</span><span class="p">.</span><span class="n">RegisterAttached</span><span class="p">(</span>
</span><span class='line'>                                 <span class="s">&quot;IsEnabled&quot;</span><span class="p">,</span>
</span><span class='line'>                                 <span class="k">typeof</span><span class="p">(</span><span class="kt">bool</span><span class="p">),</span>
</span><span class='line'>                                 <span class="k">typeof</span><span class="p">(</span><span class="n">ValidationBehavior</span><span class="p">),</span>
</span><span class='line'>                                 <span class="k">new</span> <span class="nf">FrameworkPropertyMetadata</span><span class="p">(</span><span class="n">OnValidationBehaviorEnabled</span><span class="p">));</span>
</span><span class='line'>
</span><span class='line'>         <span class="n">NotificationsProperty</span> <span class="p">=</span> <span class="n">DependencyProperty</span><span class="p">.</span><span class="n">RegisterAttached</span><span class="p">(</span>
</span><span class='line'>                                 <span class="s">&quot;Notifications&quot;</span><span class="p">,</span>
</span><span class='line'>                                 <span class="k">typeof</span><span class="p">(</span><span class="n">NotificationCollection</span><span class="p">),</span>
</span><span class='line'>                                 <span class="k">typeof</span><span class="p">(</span><span class="n">ValidationBehavior</span><span class="p">),</span>
</span><span class='line'>                                 <span class="k">new</span> <span class="nf">PropertyMetadata</span><span class="p">(</span><span class="k">null</span><span class="p">));</span>
</span><span class='line'>     <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>     <span class="k">public</span> <span class="k">static</span> <span class="kt">bool</span> <span class="nf">GetIsEnabled</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">host</span><span class="p">)</span>
</span><span class='line'>     <span class="p">{</span>
</span><span class='line'>         <span class="k">return</span> <span class="p">(</span><span class="kt">bool</span><span class="p">)</span> <span class="n">host</span><span class="p">.</span><span class="n">GetValue</span><span class="p">(</span><span class="n">IsEnabledProperty</span><span class="p">);</span>
</span><span class='line'>     <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>     <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SetIsEnabled</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">host</span><span class="p">,</span> <span class="kt">bool</span> <span class="n">isEnabled</span><span class="p">)</span>
</span><span class='line'>     <span class="p">{</span>
</span><span class='line'>         <span class="n">host</span><span class="p">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">IsEnabledProperty</span><span class="p">,</span> <span class="n">isEnabled</span><span class="p">);</span>
</span><span class='line'>     <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>     <span class="k">public</span> <span class="k">static</span> <span class="n">NotificationCollection</span> <span class="nf">GetNotifications</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">host</span><span class="p">)</span>
</span><span class='line'>     <span class="p">{</span>
</span><span class='line'>         <span class="k">return</span> <span class="p">(</span><span class="n">NotificationCollection</span><span class="p">)</span><span class="n">host</span><span class="p">.</span><span class="n">GetValue</span><span class="p">(</span><span class="n">NotificationsProperty</span><span class="p">);</span>
</span><span class='line'>     <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>     <span class="k">public</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">SetNotifications</span><span class="p">(</span><span class="n">DependencyObject</span> <span class="n">host</span><span class="p">,</span> <span class="n">NotificationCollection</span> <span class="n">notification</span><span class="p">)</span>
</span><span class='line'>     <span class="p">{</span>
</span><span class='line'>         <span class="n">host</span><span class="p">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">NotificationsProperty</span><span class="p">,</span> <span class="n">notification</span><span class="p">);</span>
</span><span class='line'>     <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The attached DependencyProperty <code>IsEnabled</code> is used to attach our
behavior to the target element marked with the property. Notice the
<code>OnValidationBehaviorEnabled</code> handler which is called when the value of
the registered attached DependencyProperty has changed. The attached
DependencyProperty <code>Notifications</code> will later hold the collection of
Notifications extracted from the ViewModel by our attached behavior. By
having the <code>NotificationCollection</code> as an attached property you&#8217;re able to
bind against it from XAML (as we&#8217;ll see in the following post). If you
recall the last post about this topic, maybe you remember that I didn&#8217;t
actually set the attached property <code>IsEnabled</code> in the ViewModels XAML
file. You could configure the behavior in the related XAML file but I
didn&#8217;t want to do this for all my ViewModels. Because of this I decided
to use Styles for this.</p>

<figure class='code'><figcaption><span>XAML styles to wire it up</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="c">&lt;!-- The global application class --&gt;</span>
</span><span class='line'><span class="nt">&lt;Application</span> <span class="na">x:Class=</span><span class="s">&quot;Notifications.App&quot;</span>
</span><span class='line'>    <span class="na">xmlns=</span><span class="s">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span>
</span><span class='line'>    <span class="na">xmlns:x=</span><span class="s">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;Application.Resources&gt;</span>
</span><span class='line'>        <span class="nt">&lt;ResourceDictionary</span> <span class="na">Source=</span><span class="s">&quot;Resources/Theme.xaml&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/Application.Resources&gt;</span>
</span><span class='line'><span class="nt">&lt;/Application&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="c">&lt;!-- My XAML file containing the resources --&gt;</span>
</span><span class='line'><span class="nt">&lt;ResourceDictionary</span>
</span><span class='line'>    <span class="na">xmlns=</span><span class="s">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span>
</span><span class='line'>    <span class="na">xmlns:x=</span><span class="s">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span>
</span><span class='line'>    <span class="na">xmlns:Fx=</span><span class="s">&quot;clr-namespace:Notifications.Fx&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;Style</span> <span class="na">TargetType=</span><span class="s">&quot;Control&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>        <span class="nt">&lt;Setter</span> <span class="na">Property=</span><span class="s">&quot;Fx:ValidationBehavior.IsEnabled&quot;</span> <span class="na">Value=</span><span class="s">&quot;true&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/Style&gt;</span>
</span><span class='line'>
</span><span class='line'>    <span class="nt">&lt;Style</span> <span class="na">TargetType=</span><span class="s">&quot;TextBox&quot;</span> <span class="na">BasedOn=</span><span class="s">&quot;{StaticResource {x:Type Control}}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>
</span><span class='line'><span class="nt">&lt;/ResourceDictionary&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>When the Style is applied the <code>IsEnabled</code> attached property
will be automatically set on all elements based on that style and this
brings us into the position to hook into the elements events and access
the elements data. The <code>OnValidationBehaviorEnabled</code> handler is actually
straight forward.</p>

<figure class='code'><figcaption><span>Attach to the target FrameworkElement</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">OnValidationBehaviorEnabled</span><span class="p">(</span>
</span><span class='line'>    <span class="n">DependencyObject</span> <span class="n">dependencyObject</span><span class="p">,</span>
</span><span class='line'>    <span class="n">DependencyPropertyChangedEventArgs</span> <span class="n">args</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">frameworkElement</span> <span class="p">=</span> <span class="p">(</span><span class="n">FrameworkElement</span><span class="p">)</span><span class="n">dependencyObject</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Get the DataContext from the element. Mostly this DataContext is not directly</span>
</span><span class='line'>    <span class="c1">// set on the element but rather derived from the parents DataContext</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">notificationSource</span> <span class="p">=</span> <span class="n">frameworkElement</span><span class="p">.</span><span class="n">DataContext</span> <span class="k">as</span> <span class="n">INotificationSource</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">if</span> <span class="p">(</span><span class="n">notificationSource</span> <span class="p">==</span> <span class="k">null</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">return</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Clear related Notifications of an element when the element</span>
</span><span class='line'>    <span class="c1">// got the focus.</span>
</span><span class='line'>    <span class="n">frameworkElement</span><span class="p">.</span><span class="n">GotFocus</span> <span class="p">+=</span> <span class="n">ClearNotificationOnFocus</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="c1">// Hook into the CollectionChanged event of the NotificationCollection.</span>
</span><span class='line'>    <span class="c1">// I&#39;m using a closure here in order to capture the FrameworkElement.</span>
</span><span class='line'>    <span class="n">notificationSource</span><span class="p">.</span><span class="n">Notifications</span><span class="p">.</span><span class="n">CollectionChanged</span> <span class="p">+=</span> <span class="p">(</span><span class="n">sender</span><span class="p">,</span> <span class="n">collectionChangedArgs</span><span class="p">)</span> <span class="p">=&gt;</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">var</span> <span class="n">notifications</span> <span class="p">=</span> <span class="n">GetNotifications</span><span class="p">(</span><span class="n">notificationSource</span><span class="p">,</span> <span class="n">frameworkElement</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">SetNotification</span><span class="p">(</span>
</span><span class='line'>            <span class="n">frameworkElement</span><span class="p">,</span>
</span><span class='line'>            <span class="n">notifications</span><span class="p">);</span>
</span><span class='line'>    <span class="p">};</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The anonymous event handler registered for the <code>CollectionChangedEvent</code> tries to get the
collection of Notifications for the <code>FrameworkElement</code>.</p>

<figure class='code'><figcaption><span>Extracting the notifications for a particular element</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">private</span> <span class="k">static</span> <span class="n">NotificationCollection</span> <span class="nf">GetNotifications</span><span class="p">(</span><span class="n">INotificationSource</span> <span class="n">notificationSource</span><span class="p">,</span> <span class="n">FrameworkElement</span> <span class="n">frameworkElement</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">return</span> <span class="n">notificationSource</span><span class="p">.</span><span class="n">Notifications</span><span class="p">.</span><span class="n">AllNotificationsFor</span><span class="p">(</span><span class="n">frameworkElement</span><span class="p">.</span><span class="n">Name</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you can see this particular piece of code has a
little quirk right now. It relies on the convention / assumption that
the property on the <code>ViewModel</code> and the bound <code>FrameworkElement</code> share the
same name. It was the easiest thing to do. It would also be easy to
introduce another attached property for this in order to specify the
name of the related ViewModel property. However this wouldn&#8217;t be 100%
DRY because you&#8217;re most likely going to specify the property via the
Binding <code>MarkupExtension</code>, too. I&#8217;m open to suggestions of how this
correlation can be done better. The last missing code piece is the
handler which clears the Notification when it gets focus. It simply sets
the attached Notification property to null.</p>

<figure class='code'><figcaption><span>Resetting a notification on focus</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">private</span> <span class="k">static</span> <span class="k">void</span> <span class="nf">ClearNotificationOnFocus</span><span class="p">(</span><span class="kt">object</span> <span class="n">sender</span><span class="p">,</span> <span class="n">RoutedEventArgs</span> <span class="n">e</span><span class="p">)</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="n">var</span> <span class="n">elementWithNotification</span> <span class="p">=</span> <span class="p">(</span><span class="n">FrameworkElement</span><span class="p">)</span><span class="n">e</span><span class="p">.</span><span class="n">OriginalSource</span><span class="p">;</span>
</span><span class='line'>    <span class="n">elementWithNotification</span><span class="p">.</span><span class="n">SetValue</span><span class="p">(</span><span class="n">NotificationProperty</span><span class="p">,</span> <span class="k">null</span><span class="p">);</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Closing thoughts</h2>

<p>I hope you&#8217;re getting a feeling for what I wanted to show with this
little post series. Today I talked mostly about how <code>Notifications</code> can be
transfered from the <code>ViewModel</code> into the <code>WPF tree</code>. While the code
currently has some pieces in it that imho should be refactored
(correlation of the <code>Notifications</code>, <code>CollectionChangedEvent</code> currently
reloads all Notifications), I hope you saw in this post that it&#8217;s
relatively easy to add such an ability to your app infrastructure
without a) having a base class constraint b) a lot of imperative code
and c) doing a lot of configuration. The next post will conclude this
little series mostly with <code>XAML</code> stuff. We&#8217;re going to cover how to
combine the different tools (<code>DataTrigger</code>, <code>DataTemplates</code>,
<code>ControlTemplates</code>, <code>Converter</code>) that WPF offers in order to fire up a
Tooltip containing all Notifications for an element.</p>

<p>CU next time &#8230;</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">admin</span></span>

      





  



<time datetime="2009-10-27T21:29:16+01:00" pubdate  data-updated="true" >Oct 27<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/dotnet/'>dotnet</a>, <a class='category' href='/blog/categories/sw-design/'>sw-design</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.bjoernrochel.de/2009/10/27/notifications-the-wpf-way-i-guess-part-ii/" data-via="bjoernrochel" data-counturl="http://www.bjoernrochel.de/2009/10/27/notifications-the-wpf-way-i-guess-part-ii/" >Tweet</a>
  
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
	<h1>About me</h1>
  <p><br/><img src="/images/bjro-eyes.jpg" alt="portrait" /></p>
	<p>
  My name is <strong>Björn Rochel</strong>.  I'm a 32 year old geek, who's crazy about software development, living in Cologne and
  currently working for <a href="http://www.intercomponentware.com">ICW</a> as a Developer / Architect.
	</p>
	<ul id="badges">
    <li><a id="xing" href="http://www.xing.com/profile/Bjoern_Rochel"><span>XING</span></a></li>
    <li><a id="github" href="http://www.github.com/BjRo"><span>Github</span></a></li>
    <li><a id="twitter" href="http://www.twitter.com/bjoernrochel"><span>Twitter</span></a></li>
    <li><a id="rss" href="/atom.xml"><span>Rss</span></a></li>
	</ul>
</section>

<section>
  <h1>Categories</h1>
  <ul id='categories'>
<li><a href='http://www.bjoernrochel.de/blog/categories/Conferences/'>Conferences (8)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/FSharp/'>FSharp (3)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Katas/'>Katas (2)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/StoryTeller/'>StoryTeller (14)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/StructureMap/'>StructureMap (9)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Testing/'>Testing (20)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Uncategorized/'>Uncategorized (8)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/dotnet/'>dotnet (65)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/ruby/'>ruby (3)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/sw-design/'>sw-design (13)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/xUnitBDDExtensions/'>xUnitBDDExtensions (15)</a></li>
</ul>

</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("bjoernrochel", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/bjoernrochel" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @bjoernrochel</a>
  
</section>

<section>
<h1>Disclaimer</h1>
<p>
The opinions expressed herein are my own personal opinions and do not necessarily represent the opinion of any other organization or person, including (but not limited to) my fellow employees, my employer, its clients or their agents. 
</p>
<p>
 Copyright &copy; 2011 - Björn Rochel
</p>
<section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Björn Rochel -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bjro';
      
        

				//var disqus_developer = 1;
				var disqus_identifier = 'http://www.bjoernrochel.de/2009/10/27/notifications-the-wpf-way-i-guess-part-ii/';
				var disqus_url = 'http://www.bjoernrochel.de/2009/10/27/notifications-the-wpf-way-i-guess-part-ii/';
        var disqus_script = 'embed.js';
      

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>







</body>
</html>
