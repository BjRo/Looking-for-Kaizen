
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Notifications the WPF way (I guess), Part I - Dude, where's my Kaizen?</title>
  <meta name="author" content="Björn Rochel">

  
  <meta name="description" content="Update 2.11.2009: I removed the DependencyObject andDependencyProperty references from the ViewModel. The solution worksfine without them.This is the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.bjoernrochel.de/2009/10/20/notifications-the-wpf-way-i-guess-part-i/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Dude, where's my Kaizen?" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><div id="logo">
</div>
<hgroup>
  <h1><a href="/">Dude, where's my Kaizen?</a></h1>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.bjoernrochel.de" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Notifications the WPF Way (I Guess), Part I</h1>
    
    
      <p class="meta">
        





  



<time datetime="2009-10-20T21:38:09+02:00" pubdate  data-updated="true" >Oct 20<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><strong>Update 2.11.2009: I removed the DependencyObject and
DependencyProperty references from the ViewModel. The solution works
fine without them.</strong></p>

<p>This is the start of a small mini series about how I would currently
approach the <code>Notification Pattern</code> in a WPF application, using the
default WPF practices and patterns. Think about it as a step by step
guide for using <code>DataBinding</code>, <code>Control-Templates</code>, <code>Styles</code>,
<code>Resource-Inheritance</code>, <code>Converters</code> and the <code>Attached-Behavior-Pattern</code> for
displaying Notifications in the WPF-UI. (I guess most of this is also
doable in Silverlight too, but I&#8217;ve never done anything with SL so I
can&#8217;t say for sure). I&#8217;ve also prepared a little bit of sample code for
this topic which will be downloadable soon.</p>

<h2>First, some cautious warnings </h2>

<p>I&#8217;m by no means a WPF-expert. I&#8217;m still in the learning
phase. So, if there are more obvious or intuitive solutions to the
problem, or I&#8217;m plain wrong about this, feel free to comment. I&#8217;m sure
there is A LOT room for improvement.</p>

<h2>What I&#8217;ve left out intentionally </h2>

<p>I tried to strip everything unnecessary for the scope of
the post from the code. This includes for instance <code>IoC</code>, <code>Convention over
Configuration</code>, <code>Code-Contracts</code>, <code>Expression-based Databinding setup</code> and
some base class or extension refactorings. Don&#8217;t get me wrong, I
absolutely value those elements, but I wanted the example to be as easy
as possible while being somewhat useful for a &#8216;real world&#8217; application.
The code might look a bit raw at at some edges because of this. So
please keep that in mind before throwing with stones ;-)</p>

<h2>Some other prerequesites </h2>

<p>A while back I wrote a post about <a href="/2009/08/28/implementing-the-notification-pattern-using-dataannotation-validators/">implementing the Notification-pattern using
System.Componentmodel.DataAnnotations</a>.
It demonstrates the implementation of a generic validator based on the <code>DataAnnotation</code> attributes. Besides that,
<a href="/2009/08/19/the-attached-behavior-pattern/">this</a>
post about the <code>Attached-Behavior-Pattern</code> will also be useful for this
mini-series. Please give them a short visit if you haven&#8217;t read them
yet.</p>

<h2>The example scenario </h2>

<p>The scenario I&#8217;m going to use for the
example is a very simple sign up form. It contains two input fields for
username / email and a &#8216;sign-up&#8217; button. It looks like this.</p>

<p><img src="/images/posts/signup.bmp" alt="image" /></p>

<p>Rules associated with the fields are:</p>

<ol>
<li>Username is required and must at least be 5 characters long.</li>
<li>Email is required and must contain a valid email address.</li>
</ol>


<p>If any of the rules is broken, the related element should be visually highlighted &#8230;</p>

<p><img src="/images/posts/signupadorner.bmp" alt="image" /></p>

<p>&#8230; and when you hover over the element you&#8217;ll get a detailed description of the error from a tooltip.</p>

<p><img src="/images/posts/signuptooltip.bmp" alt="image" /></p>

<p>I&#8217;m using the <code>PresentationModel / MVVM</code> pattern for the UI since it seems to be the default UI pattern in WPF.</p>

<figure class='code'><figcaption><span>This is how I would like my SignUpView to be </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
</pre></td><td class='code'><pre><code class='xml'><span class='line'><span class="nt">&lt;Window</span> <span class="na">x:Class=</span><span class="s">&quot;Notifications.SignUpView&quot;</span>
</span><span class='line'>    <span class="na">xmlns=</span><span class="s">&quot;http://schemas.microsoft.com/winfx/2006/xaml/presentation&quot;</span>
</span><span class='line'>    <span class="na">xmlns:x=</span><span class="s">&quot;http://schemas.microsoft.com/winfx/2006/xaml&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;Grid&gt;</span>
</span><span class='line'>        <span class="nt">&lt;Grid.RowDefinitions&gt;</span>
</span><span class='line'>            <span class="nt">&lt;RowDefinition</span> <span class="na">Height=</span><span class="s">&quot;*&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/Grid.RowDefinitions&gt;</span>
</span><span class='line'>        <span class="nt">&lt;Grid.ColumnDefinitions&gt;</span>
</span><span class='line'>            <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">&quot;*&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/Grid.ColumnDefinitions&gt;</span>
</span><span class='line'>        <span class="nt">&lt;GroupBox</span>
</span><span class='line'>            <span class="na">Grid.Column=</span><span class="s">&quot;1&quot;</span>
</span><span class='line'>            <span class="na">Grid.Row=</span><span class="s">&quot;1&quot;</span>
</span><span class='line'>            <span class="na">Header=</span><span class="s">&quot;Sign up&quot;</span>
</span><span class='line'>            <span class="na">BorderThickness=</span><span class="s">&quot;2&quot;</span>
</span><span class='line'>            <span class="na">VerticalAlignment=</span><span class="s">&quot;Center&quot;</span>
</span><span class='line'>            <span class="na">HorizontalAlignment=</span><span class="s">&quot;Center&quot;</span>
</span><span class='line'>            <span class="na">MaxWidth=</span><span class="s">&quot;300&quot;</span>
</span><span class='line'>            <span class="na">MaxHeight=</span><span class="s">&quot;600&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>            <span class="nt">&lt;Grid&gt;</span>
</span><span class='line'>                <span class="nt">&lt;Grid.RowDefinitions&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;RowDefinition</span> <span class="nt">/&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;RowDefinition</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/Grid.RowDefinitions&gt;</span>
</span><span class='line'>                <span class="nt">&lt;Grid.ColumnDefinitions&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">&quot;Auto&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">&quot;Auto&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>                    <span class="nt">&lt;ColumnDefinition</span> <span class="na">Width=</span><span class="s">&quot;*&quot;</span><span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;/Grid.ColumnDefinitions&gt;</span>
</span><span class='line'>                <span class="nt">&lt;Label</span>
</span><span class='line'>                    <span class="na">Content=</span><span class="s">&quot;Username:&quot;</span>
</span><span class='line'>                    <span class="na">VerticalAlignment=</span><span class="s">&quot;Bottom&quot;</span>
</span><span class='line'>                    <span class="na">Margin=</span><span class="s">&quot;10,0,10,0&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Row=</span><span class="s">&quot;0&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Column=</span><span class="s">&quot;0&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;Label</span>
</span><span class='line'>                    <span class="na">Content=</span><span class="s">&quot;Email:&quot;</span>
</span><span class='line'>                    <span class="na">VerticalAlignment=</span><span class="s">&quot;Bottom&quot;</span>
</span><span class='line'>                    <span class="na">Margin=</span><span class="s">&quot;0,0,10,0&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Row=</span><span class="s">&quot;0&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Column=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;TextBox</span>
</span><span class='line'>                    <span class="na">Name=</span><span class="s">&quot;Username&quot;</span>
</span><span class='line'>                    <span class="na">MinWidth=</span><span class="s">&quot;100&quot;</span>
</span><span class='line'>                    <span class="na">MaxHeight=</span><span class="s">&quot;30&quot;</span>
</span><span class='line'>                    <span class="na">Margin=</span><span class="s">&quot;10,0,10,10&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Row=</span><span class="s">&quot;1&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Column=</span><span class="s">&quot;0&quot;</span>
</span><span class='line'>                    <span class="na">TabIndex=</span><span class="s">&quot;0&quot;</span>
</span><span class='line'>                    <span class="na">Text=</span><span class="s">&quot;{Binding Path=Username, Mode=OneWayToSource, UpdateSourceTrigger=PropertyChanged}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;TextBox</span>
</span><span class='line'>                    <span class="na">Name=</span><span class="s">&quot;Email&quot;</span>
</span><span class='line'>                    <span class="na">MinWidth=</span><span class="s">&quot;100&quot;</span>
</span><span class='line'>                    <span class="na">MaxHeight=</span><span class="s">&quot;30&quot;</span>
</span><span class='line'>                    <span class="na">Margin=</span><span class="s">&quot;0,0,10,10&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Row=</span><span class="s">&quot;1&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Column=</span><span class="s">&quot;1&quot;</span>
</span><span class='line'>                    <span class="na">Text=</span><span class="s">&quot;{Binding Path=Email, Mode=OneWayToSource, UpdateSourceTrigger=PropertyChanged}&quot;</span>
</span><span class='line'>                    <span class="na">TabIndex=</span><span class="s">&quot;1&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>                <span class="nt">&lt;Button</span>
</span><span class='line'>                    <span class="na">MaxHeight=</span><span class="s">&quot;30&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Row=</span><span class="s">&quot;1&quot;</span>
</span><span class='line'>                    <span class="na">Margin=</span><span class="s">&quot;0,0,10,10&quot;</span>
</span><span class='line'>                    <span class="na">Grid.Column=</span><span class="s">&quot;2&quot;</span>
</span><span class='line'>                    <span class="na">Content=</span><span class="s">&quot;Sign up!&quot;</span>
</span><span class='line'>                    <span class="na">TabIndex=</span><span class="s">&quot;3&quot;</span>
</span><span class='line'>                    <span class="na">Command=</span><span class="s">&quot;{Binding Path=SignUpCommand, Mode=OneWay}&quot;</span> <span class="nt">/&gt;</span>
</span><span class='line'>            <span class="nt">&lt;/Grid&gt;</span>
</span><span class='line'>        <span class="nt">&lt;/GroupBox&gt;</span>
</span><span class='line'>    <span class="nt">&lt;/Grid&gt;</span>
</span><span class='line'><span class="nt">&lt;/Window&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span>This is how I would like my SignUpViewModel to be </span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
<span class='line-number'>46</span>
<span class='line-number'>47</span>
<span class='line-number'>48</span>
<span class='line-number'>49</span>
<span class='line-number'>50</span>
<span class='line-number'>51</span>
<span class='line-number'>52</span>
<span class='line-number'>53</span>
<span class='line-number'>54</span>
<span class='line-number'>55</span>
<span class='line-number'>56</span>
<span class='line-number'>57</span>
<span class='line-number'>58</span>
<span class='line-number'>59</span>
<span class='line-number'>60</span>
<span class='line-number'>61</span>
<span class='line-number'>62</span>
<span class='line-number'>63</span>
<span class='line-number'>64</span>
<span class='line-number'>65</span>
<span class='line-number'>66</span>
<span class='line-number'>67</span>
<span class='line-number'>68</span>
<span class='line-number'>69</span>
<span class='line-number'>70</span>
<span class='line-number'>71</span>
<span class='line-number'>72</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">SignUpViewModel</span> <span class="p">:</span> <span class="n">INotificationSource</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">readonly</span> <span class="n">NotificationCollection</span> <span class="n">_notifications</span><span class="p">;</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">readonly</span> <span class="n">DelegateCommand</span> <span class="n">_signUpCommand</span><span class="p">;</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">readonly</span> <span class="n">ISignUpService</span> <span class="n">_signUpService</span><span class="p">;</span>
</span><span class='line'>    <span class="k">private</span> <span class="k">readonly</span> <span class="n">IValidator</span><span class="p">&lt;</span><span class="n">SignUpViewModel</span><span class="p">&gt;</span> <span class="n">_validator</span><span class="p">;</span>
</span><span class='line'>
</span><span class='line'>    <span class="cp">#region Constructors</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="nf">SignUpViewModel</span><span class="p">(</span><span class="n">IValidator</span><span class="p">&lt;</span><span class="n">SignUpViewModel</span><span class="p">&gt;</span> <span class="n">validator</span><span class="p">,</span> <span class="n">ISignUpService</span> <span class="n">signUpService</span><span class="p">)</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">_validator</span> <span class="p">=</span> <span class="n">validator</span><span class="p">;</span>
</span><span class='line'>        <span class="n">_signUpService</span> <span class="p">=</span> <span class="n">signUpService</span><span class="p">;</span>
</span><span class='line'>        <span class="n">_notifications</span> <span class="p">=</span> <span class="k">new</span> <span class="n">NotificationCollection</span><span class="p">();</span>
</span><span class='line'>        <span class="n">_signUpCommand</span> <span class="p">=</span> <span class="k">new</span> <span class="n">DelegateCommand</span><span class="p">(</span><span class="n">TrySignUp</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cp">#endregion</span>
</span><span class='line'>
</span><span class='line'>    <span class="cp">#region Properties</span>
</span><span class='line'>
</span><span class='line'><span class="na">    [Required(ErrorMessage = &quot;Field &#39;Username&#39; is missing&quot;)]</span>
</span><span class='line'><span class="na">    [MinimumStringLength(5)]</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Username</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">get</span><span class="p">;</span>
</span><span class='line'>        <span class="k">set</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="na">    [Required(ErrorMessage = &quot;Field &#39;Email&#39; is missing&quot;)]</span>
</span><span class='line'><span class="na">    [MinimumStringLength(5)]</span>
</span><span class='line'>    <span class="k">public</span> <span class="kt">string</span> <span class="n">Email</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">get</span><span class="p">;</span>
</span><span class='line'>        <span class="k">set</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="n">ICommand</span> <span class="n">SignUpCommand</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_signUpCommand</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">public</span> <span class="n">NotificationCollection</span> <span class="n">Notifications</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">get</span> <span class="p">{</span> <span class="k">return</span> <span class="n">_notifications</span><span class="p">;</span> <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cp">#endregion</span>
</span><span class='line'>
</span><span class='line'>    <span class="cp">#region Private methods</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">private</span> <span class="k">void</span> <span class="nf">TrySignUp</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="k">if</span> <span class="p">(!</span><span class="n">IsValid</span><span class="p">())</span>
</span><span class='line'>        <span class="p">{</span>
</span><span class='line'>            <span class="k">return</span><span class="p">;</span>
</span><span class='line'>        <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">_signUpService</span><span class="p">.</span><span class="n">TrySignUp</span><span class="p">(</span><span class="n">Username</span><span class="p">,</span> <span class="n">Email</span><span class="p">);</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="k">private</span> <span class="kt">bool</span> <span class="nf">IsValid</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="n">Notifications</span><span class="p">.</span><span class="n">Clear</span><span class="p">();</span>
</span><span class='line'>
</span><span class='line'>        <span class="n">_validator</span><span class="p">.</span><span class="n">Validate</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="n">Notifications</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="k">return</span> <span class="n">Notifications</span><span class="p">.</span><span class="n">ContainsErrors</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>
</span><span class='line'>    <span class="cp">#endregion</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<h2>Did you notice it? </h2>

<p>There is NO CODE in the View (Xaml and code behind) or the
ViewModel which displays the Notifications.There&#8217;s also no base class
for View or ViewModel where the code might be. What&#8217;s there on the other
hand is only a collection of Notifications hanging of the ViewModel
which is filled by the Validator. You might yourself now ask: Where is
the damn glue code? Yeah I know dumb question because I answered it
mostly in the introduction of the post. The interesting thing is that it
isn&#8217;t a single location. As you will see the responsibilities for
achieving the effect are separated between several components.</p>

<h2>In the next posts we&#8217;re going to take a look at</h2>

<ul>
<li>how to use the <code>Attached-Behavior-Pattern</code> together with <code>Styles</code> and
<code>resource based inheritance</code> in order to match the Notification (s)
from the <code>ViewModel</code> to the related <code>FrameworkElements</code> in the logical
WPF tree.</li>
<li>how to use a <code>DataTrigger</code> on an <code>Attached Property</code> in order to setup
the Tooltip and showing the red border.</li>
<li>how to bind the Tooltip correctly to the related <code>Notification(s)</code>.</li>
</ul>


<p>I hope I made you at least a bit curious &#8230;</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">BjRo</span></span>

      





  



<time datetime="2009-10-20T21:38:09+02:00" pubdate  data-updated="true" >Oct 20<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/dotnet/'>dotnet</a>, <a class='category' href='/blog/categories/sw-design/'>sw-design</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.bjoernrochel.de/2009/10/20/notifications-the-wpf-way-i-guess-part-i/" data-via="bjoernrochel" data-counturl="http://www.bjoernrochel.de/2009/10/20/notifications-the-wpf-way-i-guess-part-i/" >Tweet</a>
  
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
	<h1>About me</h1>
  <p><br/><img src="/images/bjro-eyes.jpg" alt="portrait" /></p>
	<p>
  My name is <strong>Björn Rochel</strong>.  I'm a 32 year old geek, who's crazy about software development, living in Cologne and
  currently working for <a href="http://www.intercomponentware.com">ICW</a> as a Developer / Architect.
	</p>
	<ul id="badges">
    <li><a id="xing" href="http://www.xing.com/profile/Bjoern_Rochel"><span>XING</span></a></li>
    <li><a id="github" href="http://www.github.com/BjRo"><span>Github</span></a></li>
    <li><a id="twitter" href="http://www.twitter.com/bjoernrochel"><span>Twitter</span></a></li>
    <li><a id="rss" href="/atom.xml"><span>Rss</span></a></li>
	</ul>
</section>

<section>
  <h1>Categories</h1>
  <ul id='categories'>
<li><a href='http://www.bjoernrochel.de/blog/categories/Conferences/'>Conferences (8)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/FSharp/'>FSharp (3)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Katas/'>Katas (2)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/StoryTeller/'>StoryTeller (14)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/StructureMap/'>StructureMap (9)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Testing/'>Testing (20)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/Uncategorized/'>Uncategorized (8)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/dotnet/'>dotnet (65)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/ruby/'>ruby (3)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/sw-design/'>sw-design (13)</a></li>
<li><a href='http://www.bjoernrochel.de/blog/categories/xUnitBDDExtensions/'>xUnitBDDExtensions (15)</a></li>
</ul>

</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("bjoernrochel", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/bjoernrochel" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @bjoernrochel</a>
  
</section>

<section>
<h1>Disclaimer</h1>
<p>
The opinions expressed herein are my own personal opinions and do not necessarily represent the opinion of any other organization or person, including (but not limited to) my fellow employees, my employer, its clients or their agents. 
</p>
<p>
 Copyright &copy; 2011 - Björn Rochel
</p>
<section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Björn Rochel -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bjro';
      
        

				//var disqus_developer = 1;
				var disqus_identifier = 'http://www.bjoernrochel.de/2009/10/20/notifications-the-wpf-way-i-guess-part-i/';
				var disqus_url = 'http://www.bjoernrochel.de/2009/10/20/notifications-the-wpf-way-i-guess-part-i/';
        var disqus_script = 'embed.js';
      

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>







</body>
</html>
