
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Diving into the StoryTeller trunk, Part 1: Convention based registration - Dude, where's my Kaizen?</title>
  <meta name="author" content="Björn Rochel">

  
  <meta name="description" content="Since I&#8217;ve read some bits about Rails I often wondered how &#8220;Conventionover Configuration&#8221; (CoC) might look like in a .NET &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.bjoernrochel.de/2009/07/13/diving-into-the-storyteller-trunk-part1-convention-based-registration/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Dude, where's my Kaizen?" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

</head>

<body   >
  <header role="banner"><div id="logo">
	<img src="/images/kaizen.png" alt="Kaizen" title="Kaizen" />
</div>
<hgroup>
  <h1><a href="/">Dude, where's my Kaizen?</a></h1>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.bjoernrochel.de" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Diving Into the StoryTeller Trunk, Part 1: Convention Based Registration</h1>
    
    
      <p class="meta">
        





  



<time datetime="2009-07-13T08:26:34+02:00" pubdate  data-updated="true" >Jul 13<span>th</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>Since I&#8217;ve read some bits about Rails I often wondered how &#8220;Convention
over Configuration&#8221; (CoC) might look like in a .NET environment.
StructureMap was (AFAIK) the first IoC container in the .Net realm which
provided functionality in order to combine conventions with dependency
injection. It&#8217;s not surprising that StoryTeller relies a lot on
StructureMap and CoC, considering that both tools share the same author.</p>

<p>So let&#8217;s dive into the StoryTeller trunk and look at how CoC is applied
inside the tool. I&#8217;m starting with the Bootstrapper of the application.
The main responsibility of the Bootstrapper (as its name implies) is to
boot up and configure StructureMap in order to wire together all the
parts of the application.</p>

<figure class='code'><figcaption><span>Hello Bootstrapper</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">static</span> <span class="n">IContainer</span> <span class="nf">BuildContainer</span><span class="p">()</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="n">ObjectFactory</span><span class="p">.</span><span class="n">Initialize</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="n">x</span><span class="p">.</span><span class="n">AddRegistry</span><span class="p">&lt;</span><span class="n">UserInterfaceRegistry</span><span class="p">&gt;();</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">return</span> <span class="n">ObjectFactory</span><span class="p">.</span><span class="n">Container</span><span class="p">;</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The StructureMap configuration is implemented using the nested closure
pattern. After the closure has been executed, the internal dependency
graph of StructureMap is sealed and cannot be changed anymore. I think
this has to do with the ILGeneration aspect of StructureMap.</p>

<p>A <code>Registry</code> is the abstraction which is used by StructureMap in order
to modularize the container configuration. If we take a look at the
<code>UserInterfaceRegistry</code> from StoryTeller we see a lot of interesting
stuff, but today I would like to focus on the particular part of the
Registry which configures all the conventions. It looks like this:</p>

<figure class='code'><figcaption><span>A registry dissected</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">UserInterfaceRegistry</span> <span class="p">:</span> <span class="n">Registry</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>      <span class="k">public</span> <span class="nf">UserInterfaceRegistry</span><span class="p">()</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="p">...</span>
</span><span class='line'>          <span class="n">Scan</span><span class="p">(</span><span class="n">x</span> <span class="p">=&gt;</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="n">x</span><span class="p">.</span><span class="n">TheCallingAssembly</span><span class="p">();</span>
</span><span class='line'>              <span class="n">x</span><span class="p">.</span><span class="n">AssemblyContainingType</span><span class="p">&lt;</span><span class="n">ITestEngine</span><span class="p">&gt;();</span>
</span><span class='line'>              <span class="p">...</span>
</span><span class='line'>              <span class="n">x</span><span class="p">.</span><span class="n">WithDefaultConventions</span><span class="p">();</span>
</span><span class='line'>              <span class="n">x</span><span class="p">.</span><span class="n">ConnectImplementationsToTypesClosing</span><span class="p">(</span><span class="k">typeof</span><span class="p">(</span><span class="n">IContextualAction</span><span class="p">&lt;&gt;));</span>
</span><span class='line'>              <span class="p">...</span>
</span><span class='line'>          <span class="p">});</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="p">...</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>If you take a look at how most containers work today, you see a lot of
map-this-class-to-that-interface and
map-that-class-with-this-id-under-that-interface stuff when the
container is configured. All of this has to be done mostly by hand and
is very repetitive. Wouldn&#8217;t it be nice if the IoC container could give
us a helping hand and free us from most of this simple configuration
code? That&#8217;s exactly what StructureMap tries to do.</p>

<p>The <code>Scan</code> block configures StructureMap to automatically scan the
configured assemblies and pass each found type in those assemblies into
a chain of classes implementing the <code>ITypeScanner</code> interface. Those
classes are responsible for applying CoC in StructureMap. You can
register a class by adding a</p>

<figure class='code'><figcaption><span>Using a custom type scanner</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">x</span><span class="p">.</span><span class="n">With</span><span class="p">&lt;</span><span class="n">NameOfConcreteTypeScanner</span><span class="p">&gt;();</span>
</span></code></pre></td></tr></table></div></figure>


<p>to the scan block. The StructureMap assembly contains several
<code>ITypeScanner</code> implementations out of the box. One of them is the
<code>DefaultConventionsScanner</code> which is configured by</p>

<figure class='code'><figcaption><span>Using the default conventions</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">x</span><span class="p">.</span><span class="n">WithDefaultConventions</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>StructureMaps default convention does the following: For each concrete
type it looks for an interface whose name (minus the &#8220;I&#8221; prefix) matches
the name of the concrete type. If it finds one, it automatically
registers a mapping between those two types.</p>

<figure class='code'><figcaption><span>How DefaultConventionScanner is implemented</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">DefaultConventionScanner</span> <span class="p">:</span> <span class="n">TypeRules</span><span class="p">,</span> <span class="n">ITypeScanner</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">public</span> <span class="k">virtual</span> <span class="n">Type</span> <span class="nf">FindPluginType</span><span class="p">(</span><span class="n">Type</span> <span class="n">concreteType</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="kt">string</span> <span class="n">interfaceName</span> <span class="p">=</span> <span class="s">&quot;I&quot;</span> <span class="p">+</span> <span class="n">concreteType</span><span class="p">.</span><span class="n">Name</span><span class="p">;</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">Array</span><span class="p">.</span><span class="n">Find</span><span class="p">(</span><span class="n">concreteType</span><span class="p">.</span><span class="n">GetInterfaces</span><span class="p">(),</span> <span class="k">delegate</span> <span class="p">(</span><span class="n">Type</span> <span class="n">t</span><span class="p">)</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="k">return</span> <span class="n">t</span><span class="p">.</span><span class="n">Name</span> <span class="p">==</span> <span class="n">interfaceName</span><span class="p">;</span>
</span><span class='line'>      <span class="p">});</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">Process</span><span class="p">(</span><span class="n">Type</span> <span class="n">type</span><span class="p">,</span> <span class="n">PluginGraph</span> <span class="n">graph</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="k">base</span><span class="p">.</span><span class="n">IsConcrete</span><span class="p">(</span><span class="n">type</span><span class="p">))</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="n">Type</span> <span class="n">pluginType</span> <span class="p">=</span> <span class="k">this</span><span class="p">.</span><span class="n">FindPluginType</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="k">if</span> <span class="p">((</span><span class="n">pluginType</span> <span class="p">!=</span> <span class="k">null</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">Constructor</span><span class="p">.</span><span class="n">HasConstructors</span><span class="p">(</span><span class="n">type</span><span class="p">))</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="n">graph</span><span class="p">.</span><span class="n">AddType</span><span class="p">(</span><span class="n">pluginType</span><span class="p">,</span> <span class="n">type</span><span class="p">);</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>Conventions are really easy to implement, because the StructureMap
assembly provides a lot of the necessary functionality through extension
methods and base classes. Just to give you an example what you can also
do, here is an example from one of my current projects.</p>

<figure class='code'><figcaption><span>Registering named implementations</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="k">public</span> <span class="k">class</span> <span class="nc">RegisterNamedImplementationsOf</span><span class="p">&lt;</span><span class="n">TContract</span><span class="p">&gt;</span> <span class="p">:</span> <span class="n">TypeRules</span><span class="p">,</span> <span class="n">ITypeScanner</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>  <span class="k">private</span> <span class="k">readonly</span> <span class="kt">string</span> <span class="n">ContractName</span> <span class="p">=</span> <span class="n">FindContractName</span><span class="p">();</span>
</span><span class='line'>  
</span><span class='line'>  <span class="cp">#region ITypeScanner Members </span>
</span><span class='line'>  <span class="k">public</span> <span class="k">void</span> <span class="nf">Process</span><span class="p">(</span><span class="n">Type</span> <span class="n">type</span><span class="p">,</span> <span class="n">PluginGraph</span> <span class="n">graph</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="n">IsConcrete</span><span class="p">(</span><span class="n">type</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">type</span><span class="p">.</span><span class="n">Implements</span><span class="p">&lt;</span><span class="n">TContract</span><span class="p">&gt;())</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="kt">string</span> <span class="n">name</span> <span class="p">=</span> <span class="n">FindImplementationName</span><span class="p">(</span><span class="n">type</span><span class="p">);</span>
</span><span class='line'>          
</span><span class='line'>          <span class="k">if</span> <span class="p">(!</span><span class="kt">string</span><span class="p">.</span><span class="n">IsNullOrEmpty</span><span class="p">(</span><span class="n">name</span><span class="p">)</span> <span class="p">&amp;&amp;</span> <span class="n">Constructor</span><span class="p">.</span><span class="n">HasConstructors</span><span class="p">(</span><span class="n">type</span><span class="p">))</span>
</span><span class='line'>          <span class="p">{</span>
</span><span class='line'>              <span class="n">graph</span><span class="p">.</span><span class="n">AddType</span><span class="p">(</span><span class="k">typeof</span> <span class="p">(</span><span class="n">TContract</span><span class="p">),</span> <span class="n">type</span><span class="p">,</span> <span class="n">name</span><span class="p">);</span>
</span><span class='line'>          <span class="p">}</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  <span class="cp">#endregion </span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">private</span> <span class="kt">string</span> <span class="nf">FindImplementationName</span><span class="p">(</span><span class="n">Type</span> <span class="n">concreteType</span><span class="p">)</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(!</span><span class="n">concreteType</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">Contains</span><span class="p">(</span><span class="n">ContractName</span><span class="p">))</span>
</span><span class='line'>      <span class="p">{</span>
</span><span class='line'>          <span class="k">return</span> <span class="k">null</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>      <span class="k">return</span> <span class="n">concreteType</span><span class="p">.</span><span class="n">Name</span><span class="p">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">ContractName</span><span class="p">,</span> <span class="kt">string</span><span class="p">.</span><span class="n">Empty</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'>  
</span><span class='line'>  <span class="k">private</span> <span class="k">static</span> <span class="kt">string</span> <span class="nf">FindContractName</span><span class="p">()</span>
</span><span class='line'>  <span class="p">{</span>
</span><span class='line'>      <span class="k">return</span> <span class="nf">typeof</span><span class="p">(</span><span class="n">TContract</span><span class="p">).</span><span class="n">Name</span><span class="p">.</span><span class="n">TrimStart</span><span class="p">(</span><span class="sc">&#39;I&#39;</span><span class="p">);</span>
</span><span class='line'>  <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The convention basically does this: If you have an <code>IReportGenerator</code>
interface and one or more classes are found which implement the
interface and end with &#8220;ReportGenerator&#8221;, they are automatically
registered with their prefix in the container (for instance &#8220;Html&#8221; for
<code>HtmlReportGenerator</code> or &#8220;Text&#8221; for <code>TextReportGenerator</code>. You can set
this convention up by configuring</p>

<figure class='code'><figcaption><span>Registering our custom convention</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">x</span><span class="p">.</span><span class="n">With</span><span class="p">&lt;</span><span class="n">RegisterNamedImplementationsOf</span><span class="p">&lt;</span><span class="n">IReportGenerator</span><span class="p">&gt;();</span>
</span></code></pre></td></tr></table></div></figure>


<p>Having configured it that way you&#8217;re able to access for instance
the &#8220;Html&#8221; generator by calling</p>

<figure class='code'><figcaption><span>Resolving our example generator</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">container</span><span class="p">.</span><span class="n">GetInstance</span><span class="p">&lt;</span><span class="n">IReportGenerator</span><span class="p">&gt;(</span><span class="s">&quot;Html&quot;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<h2>Is there a downside of doing it that way?</h2>

<p>You certainly loose a lot of debuggability when assembling your
application based on conventions. For me personally this isn&#8217;t such a
big deal because I always try to use the debugger only when I have no
other option left and rely a lot on my test suite. What you need in
order to overcome this lack of debuggability is some reporting
functionality as a safety net for the rare situations where the
container doesn&#8217;t behave as you expect it to. To our luck StructureMap
contains helpers for those situations, for example</p>

<figure class='code'><figcaption><span>Asking the container to print out his configuration</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">ObjectFactory</span><span class="p">.</span><span class="n">WhatDoIHave</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p>which gives a detailed report on the currently configured dependency graph or</p>

<figure class='code'><figcaption><span>Testing whether the container configuration is valid</span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='csharp'><span class='line'><span class="n">ObjectFactory</span><span class="p">.</span><span class="n">AssertConfigurationIsValid</span><span class="p">();</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>which validates the container configuration. A lot of the CoC stuff may
look like &#8220;voodhoo&#8221; or &#8220;black magic&#8221; to some developers at first, but I
think they should be able to get used to it. Conventions can be easily
documented and are in my opinion easier to remember as stuff like
if-you-want-to-register-this-you-need-to-add-it-to-file-XY-at-the-end-of-method-Z
&#8230;</p>

<p>That&#8217;s all for now. Next time we&#8217;ll look at how a kind of &#8220;startable
facitility&#8221; is implemented in StoryTeller &#8230;</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">BjRo</span></span>

      





  



<time datetime="2009-07-13T08:26:34+02:00" pubdate  data-updated="true" >Jul 13<span>th</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/storyteller/'>StoryTeller</a>, <a class='category' href='/blog/categories/structuremap/'>StructureMap</a>, <a class='category' href='/blog/categories/dotnet/'>dotnet</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.bjoernrochel.de/2009/07/13/diving-into-the-storyteller-trunk-part1-convention-based-registration/" data-via="bjoernrochel" data-counturl="http://www.bjoernrochel.de/2009/07/13/diving-into-the-storyteller-trunk-part1-convention-based-registration/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
</div>

    
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
	<h1>About me</h1>
  <p><br/><img src="/images/bjro-eyes.jpg" alt="portrait" /></p>
	<p>
  My name is <strong>Björn Rochel</strong>.  I'm a 32 year old geek, who's crazy about software development, living in Cologne and
  currently working for <a href="http://www.intercomponentware.com">ICW</a> as a Developer / Architect.
	</p>
	<ul class="badges">
		<li><a href="http://www.xing.com/profile/Bjoern_Rochel"><img src="/images/badges/xing2-small.png" alt="Xing" /></a></li>
		<li><a href="http://www.github.com/BjRo"><img src="/images/badges/github-small.png" alt="Github" /></a></li>
		<li><a href="http://www.twitter.com/bjoernrochel"><img src="/images/badges/twitter-square-small.png" alt="Twitter" /></a></li>
		<li><a href="/atom.xml"><img src="/images/badges/rss-circle-small.png" alt="Rss" /></a></li>
	</ul>
</section>

<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/blog/categories/Conferences/'>Conferences (8)</a></li>
<li class='category'><a href='/blog/categories/FSharp/'>FSharp (3)</a></li>
<li class='category'><a href='/blog/categories/Katas/'>Katas (2)</a></li>
<li class='category'><a href='/blog/categories/StoryTeller/'>StoryTeller (14)</a></li>
<li class='category'><a href='/blog/categories/StructureMap/'>StructureMap (9)</a></li>
<li class='category'><a href='/blog/categories/Testing/'>Testing (20)</a></li>
<li class='category'><a href='/blog/categories/Uncategorized/'>Uncategorized (8)</a></li>
<li class='category'><a href='/blog/categories/dotnet/'>dotnet (65)</a></li>
<li class='category'><a href='/blog/categories/ruby/'>ruby (3)</a></li>
<li class='category'><a href='/blog/categories/sw-design/'>sw-design (13)</a></li>
<li class='category'><a href='/blog/categories/xUnitBDDExtensions/'>xUnitBDDExtensions (15)</a></li>

  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("bjoernrochel", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/bjoernrochel" class="twitter-follow-button" data-width="208px" data-show-count="false">Follow @bjoernrochel</a>
  
</section>

<section>
<h1>Disclaimer</h1>
<p>
The opinions expressed herein are my own personal opinions and do not necessarily represent the opinion of any other organization or person, including (but not limited to) my fellow employees, my employer, its clients or their agents. 
</p>
<p>
 Copyright &copy; 2011 - Björn Rochel
</p>
<section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2011 - Björn Rochel -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'bjro';
      
        

				//var disqus_developer = 1;
				var disqus_identifier = 'http://www.bjoernrochel.de/2009/07/13/diving-into-the-storyteller-trunk-part1-convention-based-registration/';
				var disqus_url = 'http://www.bjoernrochel.de/2009/07/13/diving-into-the-storyteller-trunk-part1-convention-based-registration/';
        var disqus_script = 'embed.js';
      

    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>







</body>
</html>
